import{j as n,t as Ie,E as qt,F as Za,G as er,p as tr,J as wa,K as ja,L as ar,_ as Pe,M as Na,N as rr,O as nr,P as sr,Q as ht,R as or,S as lr,T as ir,U as cr,V as dr,W as ur,X as fr,q as ka,Y as mr,C as he,b as ve,c as pe,d as je,g as we,I as xe,B as H,Z as hr,D as vr,l as pr,h as at,$ as Vt,v as Xt,w as Gt,x as Qt,u as gr,H as Jt,a as Kt,e as zt,f as br}from"./CurrentUser.76ee68b2.js";import{r as h,R as p}from"./index.40fd2bfc.js";import{B as re,S as Zt,b as ea,c as ta,d as xr,g as Le,e as w,h as ft,f as aa,a as ra,M as na,P as yr}from"./MarketAssetCard.ec6b3374.js";import{S as xt,T as Ve,a as Xe,b as P,c as ae}from"./scroll-area.d22b7ba8.js";import{u as wr,F as sa,a as le,b as ie,c as ce,d as Ae,e as de,f as ye}from"./fuse.esm.f5056299.js";import{t as Ee,c as jr,b as mt,h as _a,g as $t}from"./common.caf612c1.js";import{A as oa}from"./AssetDropDownCard.5e3a055f.js";function Ge(e){"@babel/helpers - typeof";return Ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ge(e)}function q(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function N(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function S(e){N(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Ge(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function K(e,t){N(2,arguments);var a=S(e),r=q(t);return isNaN(r)?new Date(NaN):(r&&a.setDate(a.getDate()+r),a)}function ge(e,t){N(2,arguments);var a=S(e),r=q(t);if(isNaN(r))return new Date(NaN);if(!r)return a;var s=a.getDate(),o=new Date(a.getTime());o.setMonth(a.getMonth()+r+1,0);var l=o.getDate();return s>=l?o:(a.setFullYear(o.getFullYear(),o.getMonth(),s),a)}function Nr(e,t){N(2,arguments);var a=S(e).getTime(),r=q(t);return new Date(a+r)}var kr={};function Fe(){return kr}function Ne(e,t){var a,r,s,o,l,i,d,c;N(1,arguments);var u=Fe(),f=q((a=(r=(s=(o=t?.weekStartsOn)!==null&&o!==void 0?o:t==null||(l=t.locale)===null||l===void 0||(i=l.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(d=u.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&a!==void 0?a:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=S(e),v=m.getDay(),g=(v<f?7:0)+v-f;return m.setDate(m.getDate()-g),m.setHours(0,0,0,0),m}function Re(e){return N(1,arguments),Ne(e,{weekStartsOn:1})}function _r(e){N(1,arguments);var t=S(e),a=t.getFullYear(),r=new Date(0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);var s=Re(r),o=new Date(0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);var l=Re(o);return t.getTime()>=s.getTime()?a+1:t.getTime()>=l.getTime()?a:a-1}function Dr(e){N(1,arguments);var t=_r(e),a=new Date(0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);var r=Re(a);return r}function rt(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Qe(e){N(1,arguments);var t=S(e);return t.setHours(0,0,0,0),t}var Cr=864e5;function Se(e,t){N(2,arguments);var a=Qe(e),r=Qe(t),s=a.getTime()-rt(a),o=r.getTime()-rt(r);return Math.round((s-o)/Cr)}function Mt(e,t){N(2,arguments);var a=q(t),r=a*7;return K(e,r)}function Mr(e,t){N(2,arguments);var a=q(t);return ge(e,a*12)}function Or(e){N(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(Ge(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var a;return t.forEach(function(r){var s=S(r);(a===void 0||a<s||isNaN(Number(s)))&&(a=s)}),a||new Date(NaN)}function Sr(e){N(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(Ge(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var a;return t.forEach(function(r){var s=S(r);(a===void 0||a>s||isNaN(s.getDate()))&&(a=s)}),a||new Date(NaN)}function z(e,t){N(2,arguments);var a=Qe(e),r=Qe(t);return a.getTime()===r.getTime()}function Et(e){return N(1,arguments),e instanceof Date||Ge(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Tr(e){if(N(1,arguments),!Et(e)&&typeof e!="number")return!1;var t=S(e);return!isNaN(Number(t))}function nt(e,t){N(2,arguments);var a=S(e),r=S(t),s=a.getFullYear()-r.getFullYear(),o=a.getMonth()-r.getMonth();return s*12+o}var $r=6048e5;function Er(e,t,a){N(2,arguments);var r=Ne(e,a),s=Ne(t,a),o=r.getTime()-rt(r),l=s.getTime()-rt(s);return Math.round((o-l)/$r)}function Pt(e){N(1,arguments);var t=S(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function Z(e){N(1,arguments);var t=S(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Pr(e){N(1,arguments);var t=S(e),a=new Date(0);return a.setFullYear(t.getFullYear(),0,1),a.setHours(0,0,0,0),a}function Ft(e,t){var a,r,s,o,l,i,d,c;N(1,arguments);var u=Fe(),f=q((a=(r=(s=(o=t?.weekStartsOn)!==null&&o!==void 0?o:t==null||(l=t.locale)===null||l===void 0||(i=l.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(d=u.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&a!==void 0?a:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=S(e),v=m.getDay(),g=(v<f?-7:0)+6-(v-f);return m.setDate(m.getDate()+g),m.setHours(23,59,59,999),m}function Da(e){return N(1,arguments),Ft(e,{weekStartsOn:1})}function Fr(e,t){N(2,arguments);var a=q(t);return Nr(e,-a)}var Wr=864e5;function Yr(e){N(1,arguments);var t=S(e),a=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=a-r;return Math.floor(s/Wr)+1}function pt(e){N(1,arguments);var t=1,a=S(e),r=a.getUTCDay(),s=(r<t?7:0)+r-t;return a.setUTCDate(a.getUTCDate()-s),a.setUTCHours(0,0,0,0),a}function Ca(e){N(1,arguments);var t=S(e),a=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(a+1,0,4),r.setUTCHours(0,0,0,0);var s=pt(r),o=new Date(0);o.setUTCFullYear(a,0,4),o.setUTCHours(0,0,0,0);var l=pt(o);return t.getTime()>=s.getTime()?a+1:t.getTime()>=l.getTime()?a:a-1}function Lr(e){N(1,arguments);var t=Ca(e),a=new Date(0);a.setUTCFullYear(t,0,4),a.setUTCHours(0,0,0,0);var r=pt(a);return r}var Ar=6048e5;function Br(e){N(1,arguments);var t=S(e),a=pt(t).getTime()-Lr(t).getTime();return Math.round(a/Ar)+1}function gt(e,t){var a,r,s,o,l,i,d,c;N(1,arguments);var u=Fe(),f=q((a=(r=(s=(o=t?.weekStartsOn)!==null&&o!==void 0?o:t==null||(l=t.locale)===null||l===void 0||(i=l.options)===null||i===void 0?void 0:i.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(d=u.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&a!==void 0?a:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=S(e),v=m.getUTCDay(),g=(v<f?7:0)+v-f;return m.setUTCDate(m.getUTCDate()-g),m.setUTCHours(0,0,0,0),m}function Ma(e,t){var a,r,s,o,l,i,d,c;N(1,arguments);var u=S(e),f=u.getUTCFullYear(),m=Fe(),v=q((a=(r=(s=(o=t?.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(l=t.locale)===null||l===void 0||(i=l.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(d=m.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,v),g.setUTCHours(0,0,0,0);var j=gt(g,t),b=new Date(0);b.setUTCFullYear(f,0,v),b.setUTCHours(0,0,0,0);var C=gt(b,t);return u.getTime()>=j.getTime()?f+1:u.getTime()>=C.getTime()?f:f-1}function Ir(e,t){var a,r,s,o,l,i,d,c;N(1,arguments);var u=Fe(),f=q((a=(r=(s=(o=t?.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(l=t.locale)===null||l===void 0||(i=l.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(d=u.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:1),m=Ma(e,t),v=new Date(0);v.setUTCFullYear(m,0,f),v.setUTCHours(0,0,0,0);var g=gt(v,t);return g}var Rr=6048e5;function Ur(e,t){N(1,arguments);var a=S(e),r=gt(a,t).getTime()-Ir(a,t).getTime();return Math.round(r/Rr)+1}function E(e,t){for(var a=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return a+r}var Hr={y:function(t,a){var r=t.getUTCFullYear(),s=r>0?r:1-r;return E(a==="yy"?s%100:s,a.length)},M:function(t,a){var r=t.getUTCMonth();return a==="M"?String(r+1):E(r+1,2)},d:function(t,a){return E(t.getUTCDate(),a.length)},a:function(t,a){var r=t.getUTCHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,a){return E(t.getUTCHours()%12||12,a.length)},H:function(t,a){return E(t.getUTCHours(),a.length)},m:function(t,a){return E(t.getUTCMinutes(),a.length)},s:function(t,a){return E(t.getUTCSeconds(),a.length)},S:function(t,a){var r=a.length,s=t.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,r-3));return E(o,a.length)}};const $e=Hr;var qe={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qr={G:function(t,a,r){var s=t.getUTCFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,a,r){if(a==="yo"){var s=t.getUTCFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return $e.y(t,a)},Y:function(t,a,r,s){var o=Ma(t,s),l=o>0?o:1-o;if(a==="YY"){var i=l%100;return E(i,2)}return a==="Yo"?r.ordinalNumber(l,{unit:"year"}):E(l,a.length)},R:function(t,a){var r=Ca(t);return E(r,a.length)},u:function(t,a){var r=t.getUTCFullYear();return E(r,a.length)},Q:function(t,a,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(a){case"Q":return String(s);case"QQ":return E(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,a,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(a){case"q":return String(s);case"qq":return E(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,a,r){var s=t.getUTCMonth();switch(a){case"M":case"MM":return $e.M(t,a);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,a,r){var s=t.getUTCMonth();switch(a){case"L":return String(s+1);case"LL":return E(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,a,r,s){var o=Ur(t,s);return a==="wo"?r.ordinalNumber(o,{unit:"week"}):E(o,a.length)},I:function(t,a,r){var s=Br(t);return a==="Io"?r.ordinalNumber(s,{unit:"week"}):E(s,a.length)},d:function(t,a,r){return a==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):$e.d(t,a)},D:function(t,a,r){var s=Yr(t);return a==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):E(s,a.length)},E:function(t,a,r){var s=t.getUTCDay();switch(a){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,a,r,s){var o=t.getUTCDay(),l=(o-s.weekStartsOn+8)%7||7;switch(a){case"e":return String(l);case"ee":return E(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,a,r,s){var o=t.getUTCDay(),l=(o-s.weekStartsOn+8)%7||7;switch(a){case"c":return String(l);case"cc":return E(l,a.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,a,r){var s=t.getUTCDay(),o=s===0?7:s;switch(a){case"i":return String(o);case"ii":return E(o,a.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,a,r){var s=t.getUTCHours(),o=s/12>=1?"pm":"am";switch(a){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,a,r){var s=t.getUTCHours(),o;switch(s===12?o=qe.noon:s===0?o=qe.midnight:o=s/12>=1?"pm":"am",a){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,a,r){var s=t.getUTCHours(),o;switch(s>=17?o=qe.evening:s>=12?o=qe.afternoon:s>=4?o=qe.morning:o=qe.night,a){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,a,r){if(a==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return $e.h(t,a)},H:function(t,a,r){return a==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):$e.H(t,a)},K:function(t,a,r){var s=t.getUTCHours()%12;return a==="Ko"?r.ordinalNumber(s,{unit:"hour"}):E(s,a.length)},k:function(t,a,r){var s=t.getUTCHours();return s===0&&(s=24),a==="ko"?r.ordinalNumber(s,{unit:"hour"}):E(s,a.length)},m:function(t,a,r){return a==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):$e.m(t,a)},s:function(t,a,r){return a==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):$e.s(t,a)},S:function(t,a){return $e.S(t,a)},X:function(t,a,r,s){var o=s._originalDate||t,l=o.getTimezoneOffset();if(l===0)return"Z";switch(a){case"X":return ia(l);case"XXXX":case"XX":return Be(l);case"XXXXX":case"XXX":default:return Be(l,":")}},x:function(t,a,r,s){var o=s._originalDate||t,l=o.getTimezoneOffset();switch(a){case"x":return ia(l);case"xxxx":case"xx":return Be(l);case"xxxxx":case"xxx":default:return Be(l,":")}},O:function(t,a,r,s){var o=s._originalDate||t,l=o.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+la(l,":");case"OOOO":default:return"GMT"+Be(l,":")}},z:function(t,a,r,s){var o=s._originalDate||t,l=o.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+la(l,":");case"zzzz":default:return"GMT"+Be(l,":")}},t:function(t,a,r,s){var o=s._originalDate||t,l=Math.floor(o.getTime()/1e3);return E(l,a.length)},T:function(t,a,r,s){var o=s._originalDate||t,l=o.getTime();return E(l,a.length)}};function la(e,t){var a=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),o=r%60;if(o===0)return a+String(s);var l=t||"";return a+String(s)+l+E(o,2)}function ia(e,t){if(e%60===0){var a=e>0?"-":"+";return a+E(Math.abs(e)/60,2)}return Be(e,t)}function Be(e,t){var a=t||"",r=e>0?"-":"+",s=Math.abs(e),o=E(Math.floor(s/60),2),l=E(s%60,2);return r+o+a+l}const Vr=qr;var ca=function(t,a){switch(t){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},Oa=function(t,a){switch(t){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},Xr=function(t,a){var r=t.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return ca(t,a);var l;switch(s){case"P":l=a.dateTime({width:"short"});break;case"PP":l=a.dateTime({width:"medium"});break;case"PPP":l=a.dateTime({width:"long"});break;case"PPPP":default:l=a.dateTime({width:"full"});break}return l.replace("{{date}}",ca(s,a)).replace("{{time}}",Oa(o,a))},Gr={p:Oa,P:Xr};const Qr=Gr;var Jr=["D","DD"],Kr=["YY","YYYY"];function zr(e){return Jr.indexOf(e)!==-1}function Zr(e){return Kr.indexOf(e)!==-1}function da(e,t,a){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var en={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tn=function(t,a,r){var s,o=en[t];return typeof o=="string"?s=o:a===1?s=o.one:s=o.other.replace("{{count}}",a.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};const an=tn;function wt(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=t.width?String(t.width):e.defaultWidth,r=e.formats[a]||e.formats[e.defaultWidth];return r}}var rn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},on={date:wt({formats:rn,defaultWidth:"full"}),time:wt({formats:nn,defaultWidth:"full"}),dateTime:wt({formats:sn,defaultWidth:"full"})};const ln=on;var cn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dn=function(t,a,r,s){return cn[t]};const un=dn;function et(e){return function(t,a){var r=a!=null&&a.context?String(a.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,l=a!=null&&a.width?String(a.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{var i=e.defaultWidth,d=a!=null&&a.width?String(a.width):e.defaultWidth;s=e.values[d]||e.values[i]}var c=e.argumentCallback?e.argumentCallback(t):t;return s[c]}}var fn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bn=function(t,a){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},xn={ordinalNumber:bn,era:et({values:fn,defaultWidth:"wide"}),quarter:et({values:mn,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:et({values:hn,defaultWidth:"wide"}),day:et({values:vn,defaultWidth:"wide"}),dayPeriod:et({values:pn,defaultWidth:"wide",formattingValues:gn,defaultFormattingWidth:"wide"})};const yn=xn;function tt(e){return function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=a.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;var l=o[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(i)?jn(i,function(f){return f.test(l)}):wn(i,function(f){return f.test(l)}),c;c=e.valueCallback?e.valueCallback(d):d,c=a.valueCallback?a.valueCallback(c):c;var u=t.slice(l.length);return{value:c,rest:u}}}function wn(e,t){for(var a in e)if(e.hasOwnProperty(a)&&t(e[a]))return a}function jn(e,t){for(var a=0;a<e.length;a++)if(t(e[a]))return a}function Nn(e){return function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],o=t.match(e.parsePattern);if(!o)return null;var l=e.valueCallback?e.valueCallback(o[0]):o[0];l=a.valueCallback?a.valueCallback(l):l;var i=t.slice(s.length);return{value:l,rest:i}}}var kn=/^(\d+)(th|st|nd|rd)?/i,_n=/\d+/i,Dn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Cn={any:[/^b/i,/^(a|c)/i]},Mn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},On={any:[/1/i,/2/i,/3/i,/4/i]},Sn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$n={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},En={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wn={ordinalNumber:Nn({matchPattern:kn,parsePattern:_n,valueCallback:function(t){return parseInt(t,10)}}),era:tt({matchPatterns:Dn,defaultMatchWidth:"wide",parsePatterns:Cn,defaultParseWidth:"any"}),quarter:tt({matchPatterns:Mn,defaultMatchWidth:"wide",parsePatterns:On,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:tt({matchPatterns:Sn,defaultMatchWidth:"wide",parsePatterns:Tn,defaultParseWidth:"any"}),day:tt({matchPatterns:$n,defaultMatchWidth:"wide",parsePatterns:En,defaultParseWidth:"any"}),dayPeriod:tt({matchPatterns:Pn,defaultMatchWidth:"any",parsePatterns:Fn,defaultParseWidth:"any"})};const Yn=Wn;var Ln={code:"en-US",formatDistance:an,formatLong:ln,formatRelative:un,localize:yn,match:Yn,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Sa=Ln;var An=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,In=/^'([^]*?)'?$/,Rn=/''/g,Un=/[a-zA-Z]/;function We(e,t,a){var r,s,o,l,i,d,c,u,f,m,v,g,j,b,C,M,D,F;N(2,arguments);var O=String(t),I=Fe(),J=(r=(s=a?.locale)!==null&&s!==void 0?s:I.locale)!==null&&r!==void 0?r:Sa,X=q((o=(l=(i=(d=a?.firstWeekContainsDate)!==null&&d!==void 0?d:a==null||(c=a.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:I.firstWeekContainsDate)!==null&&l!==void 0?l:(f=I.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(X>=1&&X<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ne=q((v=(g=(j=(b=a?.weekStartsOn)!==null&&b!==void 0?b:a==null||(C=a.locale)===null||C===void 0||(M=C.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&j!==void 0?j:I.weekStartsOn)!==null&&g!==void 0?g:(D=I.locale)===null||D===void 0||(F=D.options)===null||F===void 0?void 0:F.weekStartsOn)!==null&&v!==void 0?v:0);if(!(ne>=0&&ne<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!J.localize)throw new RangeError("locale must contain localize property");if(!J.formatLong)throw new RangeError("locale must contain formatLong property");var A=S(e);if(!Tr(A))throw new RangeError("Invalid time value");var ke=rt(A),_e=Fr(A,ke),Ye={firstWeekContainsDate:X,weekStartsOn:ne,locale:J,_originalDate:A},De=O.match(Bn).map(function(B){var G=B[0];if(G==="p"||G==="P"){var x=Qr[G];return x(B,J.formatLong)}return B}).join("").match(An).map(function(B){if(B==="''")return"'";var G=B[0];if(G==="'")return Hn(B);var x=Vr[G];if(x)return!(a!=null&&a.useAdditionalWeekYearTokens)&&Zr(B)&&da(B,t,String(e)),!(a!=null&&a.useAdditionalDayOfYearTokens)&&zr(B)&&da(B,t,String(e)),x(_e,B,J.localize,Ye);if(G.match(Un))throw new RangeError("Format string contains an unescaped latin alphabet character `"+G+"`");return B}).join("");return De}function Hn(e){var t=e.match(In);return t?t[1].replace(Rn,"'"):e}function qn(e){N(1,arguments);var t=S(e),a=t.getFullYear(),r=t.getMonth(),s=new Date(0);return s.setFullYear(a,r+1,0),s.setHours(0,0,0,0),s.getDate()}var Vn=6048e5;function Xn(e){N(1,arguments);var t=S(e),a=Re(t).getTime()-Dr(t).getTime();return Math.round(a/Vn)+1}function Gn(e){N(1,arguments);var t=S(e),a=t.getTime();return a}function Qn(e){return N(1,arguments),Math.floor(Gn(e)/1e3)}function Jn(e,t){var a,r,s,o,l,i,d,c;N(1,arguments);var u=S(e),f=u.getFullYear(),m=Fe(),v=q((a=(r=(s=(o=t?.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(l=t.locale)===null||l===void 0||(i=l.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(d=m.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(f+1,0,v),g.setHours(0,0,0,0);var j=Ne(g,t),b=new Date(0);b.setFullYear(f,0,v),b.setHours(0,0,0,0);var C=Ne(b,t);return u.getTime()>=j.getTime()?f+1:u.getTime()>=C.getTime()?f:f-1}function Kn(e,t){var a,r,s,o,l,i,d,c;N(1,arguments);var u=Fe(),f=q((a=(r=(s=(o=t?.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(l=t.locale)===null||l===void 0||(i=l.options)===null||i===void 0?void 0:i.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(d=u.locale)===null||d===void 0||(c=d.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:1),m=Jn(e,t),v=new Date(0);v.setFullYear(m,0,f),v.setHours(0,0,0,0);var g=Ne(v,t);return g}var zn=6048e5;function Zn(e,t){N(1,arguments);var a=S(e),r=Ne(a,t).getTime()-Kn(a,t).getTime();return Math.round(r/zn)+1}function es(e){N(1,arguments);var t=S(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(0,0,0,0),t}function ts(e,t){return N(1,arguments),Er(es(e),Z(e),t)+1}function Ot(e,t){N(2,arguments);var a=S(e),r=S(t);return a.getTime()>r.getTime()}function Ta(e,t){N(2,arguments);var a=S(e),r=S(t);return a.getTime()<r.getTime()}function Wt(e,t){N(2,arguments);var a=S(e),r=S(t);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()}function as(e,t){N(2,arguments);var a=S(e),r=S(t);return a.getFullYear()===r.getFullYear()}function jt(e,t){N(2,arguments);var a=q(t);return K(e,-a)}function Nt(e,t){N(2,arguments);var a=S(e),r=q(t),s=a.getFullYear(),o=a.getDate(),l=new Date(0);l.setFullYear(s,r,15),l.setHours(0,0,0,0);var i=qn(l);return a.setMonth(r,Math.min(o,i)),a}function ua(e,t){N(2,arguments);var a=S(e),r=q(t);return isNaN(a.getTime())?new Date(NaN):(a.setFullYear(r),a)}var k=function(){return k=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},k.apply(this,arguments)};function rs(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(a[r[s]]=e[r[s]]);return a}function $a(e,t,a){if(a||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function ot(e){return e.mode==="multiple"}function lt(e){return e.mode==="range"}function yt(e){return e.mode==="single"}var ns={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function ss(e,t){return We(e,"LLLL y",t)}function os(e,t){return We(e,"d",t)}function ls(e,t){return We(e,"LLLL",t)}function is(e){return"".concat(e)}function cs(e,t){return We(e,"cccccc",t)}function ds(e,t){return We(e,"yyyy",t)}var us=Object.freeze({__proto__:null,formatCaption:ss,formatDay:os,formatMonthCaption:ls,formatWeekNumber:is,formatWeekdayName:cs,formatYearCaption:ds}),fs=function(e,t,a){return We(e,"do MMMM (EEEE)",a)},ms=function(){return"Month: "},hs=function(){return"Go to next month"},vs=function(){return"Go to previous month"},ps=function(e,t){return We(e,"cccc",t)},gs=function(e){return"Week n. ".concat(e)},bs=function(){return"Year: "},xs=Object.freeze({__proto__:null,labelDay:fs,labelMonthDropdown:ms,labelNext:hs,labelPrevious:vs,labelWeekNumber:gs,labelWeekday:ps,labelYearDropdown:bs});function ys(){var e="buttons",t=ns,a=Sa,r={},s={},o=1,l={},i=new Date;return{captionLayout:e,classNames:t,formatters:us,labels:xs,locale:a,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:l,today:i,mode:"default"}}function ws(e){var t=e.fromYear,a=e.toYear,r=e.fromMonth,s=e.toMonth,o=e.fromDate,l=e.toDate;return r?o=Z(r):t&&(o=new Date(t,0,1)),s?l=Pt(s):a&&(l=new Date(a,11,31)),{fromDate:o?Qe(o):void 0,toDate:l?Qe(l):void 0}}var Ea=h.createContext(void 0);function js(e){var t,a=e.initialProps,r=ys(),s=ws(a),o=s.fromDate,l=s.toDate,i=(t=a.captionLayout)!==null&&t!==void 0?t:r.captionLayout;i!=="buttons"&&(!o||!l)&&(i="buttons");var d;(yt(a)||ot(a)||lt(a))&&(d=a.onSelect);var c=k(k(k({},r),a),{captionLayout:i,classNames:k(k({},r.classNames),a.classNames),components:k({},a.components),formatters:k(k({},r.formatters),a.formatters),fromDate:o,labels:k(k({},r.labels),a.labels),mode:a.mode||r.mode,modifiers:k(k({},r.modifiers),a.modifiers),modifiersClassNames:k(k({},r.modifiersClassNames),a.modifiersClassNames),onSelect:d,styles:k(k({},r.styles),a.styles),toDate:l});return p.createElement(Ea.Provider,{value:c},e.children)}function L(){var e=h.useContext(Ea);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Pa(e){var t=L(),a=t.locale,r=t.classNames,s=t.styles,o=t.formatters.formatCaption;return p.createElement("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id},o(e.displayMonth,{locale:a}))}function Ns(e){return p.createElement("svg",k({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e),p.createElement("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"}))}function Fa(e){var t,a,r=e.onChange,s=e.value,o=e.children,l=e.caption,i=e.className,d=e.style,c=L(),u=(a=(t=c.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&a!==void 0?a:Ns;return p.createElement("div",{className:i,style:d},p.createElement("span",{className:c.classNames.vhidden},e["aria-label"]),p.createElement("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:s,onChange:r},o),p.createElement("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true"},l,p.createElement(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})))}function ks(e){var t,a=L(),r=a.fromDate,s=a.toDate,o=a.styles,l=a.locale,i=a.formatters.formatMonthCaption,d=a.classNames,c=a.components,u=a.labels.labelMonthDropdown;if(!r)return p.createElement(p.Fragment,null);if(!s)return p.createElement(p.Fragment,null);var f=[];if(as(r,s))for(var m=Z(r),v=r.getMonth();v<=s.getMonth();v++)f.push(Nt(m,v));else for(var m=Z(new Date),v=0;v<=11;v++)f.push(Nt(m,v));var g=function(b){var C=Number(b.target.value),M=Nt(Z(e.displayMonth),C);e.onChange(M)},j=(t=c?.Dropdown)!==null&&t!==void 0?t:Fa;return p.createElement(j,{name:"months","aria-label":u(),className:d.dropdown_month,style:o.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:i(e.displayMonth,{locale:l})},f.map(function(b){return p.createElement("option",{key:b.getMonth(),value:b.getMonth()},i(b,{locale:l}))}))}function _s(e){var t,a=e.displayMonth,r=L(),s=r.fromDate,o=r.toDate,l=r.locale,i=r.styles,d=r.classNames,c=r.components,u=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,m=[];if(!s)return p.createElement(p.Fragment,null);if(!o)return p.createElement(p.Fragment,null);for(var v=s.getFullYear(),g=o.getFullYear(),j=v;j<=g;j++)m.push(ua(Pr(new Date),j));var b=function(M){var D=ua(Z(a),Number(M.target.value));e.onChange(D)},C=(t=c?.Dropdown)!==null&&t!==void 0?t:Fa;return p.createElement(C,{name:"years","aria-label":f(),className:d.dropdown_year,style:i.dropdown_year,onChange:b,value:a.getFullYear(),caption:u(a,{locale:l})},m.map(function(M){return p.createElement("option",{key:M.getFullYear(),value:M.getFullYear()},u(M,{locale:l}))}))}function Ds(e,t){var a=h.useState(e),r=a[0],s=a[1],o=t===void 0?r:t;return[o,s]}function Cs(e){var t=e.month,a=e.defaultMonth,r=e.today,s=t||a||r||new Date,o=e.toDate,l=e.fromDate,i=e.numberOfMonths,d=i===void 0?1:i;if(o&&nt(o,s)<0){var c=-1*(d-1);s=ge(o,c)}return l&&nt(s,l)<0&&(s=l),Z(s)}function Ms(){var e=L(),t=Cs(e),a=Ds(t,e.month),r=a[0],s=a[1],o=function(l){var i;if(!e.disableNavigation){var d=Z(l);s(d),(i=e.onMonthChange)===null||i===void 0||i.call(e,d)}};return[r,o]}function Os(e,t){for(var a=t.reverseMonths,r=t.numberOfMonths,s=Z(e),o=Z(ge(s,r)),l=nt(o,s),i=[],d=0;d<l;d++){var c=ge(s,d);i.push(c)}return a&&(i=i.reverse()),i}function Ss(e,t){if(!t.disableNavigation){var a=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,l=r?o:1,i=Z(e);if(!a)return ge(i,l);var d=nt(a,e);if(!(d<o))return ge(i,l)}}function Ts(e,t){if(!t.disableNavigation){var a=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,l=r?o:1,i=Z(e);if(!a)return ge(i,-l);var d=nt(i,a);if(!(d<=0))return ge(i,-l)}}var Wa=h.createContext(void 0);function $s(e){var t=L(),a=Ms(),r=a[0],s=a[1],o=Os(r,t),l=Ss(r,t),i=Ts(r,t),d=function(f){return o.some(function(m){return Wt(f,m)})},c=function(f,m){d(f)||(m&&Ta(f,m)?s(ge(f,1+t.numberOfMonths*-1)):s(f))},u={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:c,previousMonth:i,nextMonth:l,isDateDisplayed:d};return p.createElement(Wa.Provider,{value:u},e.children)}function it(){var e=h.useContext(Wa);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function fa(e){var t,a=L(),r=a.classNames,s=a.styles,o=a.components,l=it().goToMonth,i=function(u){l(ge(u,e.displayIndex?-e.displayIndex:0))},d=(t=o?.CaptionLabel)!==null&&t!==void 0?t:Pa,c=p.createElement(d,{id:e.id,displayMonth:e.displayMonth});return p.createElement("div",{className:r.caption_dropdowns,style:s.caption_dropdowns},p.createElement("div",{className:r.vhidden},c),p.createElement(ks,{onChange:i,displayMonth:e.displayMonth}),p.createElement(_s,{onChange:i,displayMonth:e.displayMonth}))}function Es(e){return p.createElement("svg",k({width:"16px",height:"16px",viewBox:"0 0 120 120"},e),p.createElement("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"}))}function Ps(e){return p.createElement("svg",k({width:"16px",height:"16px",viewBox:"0 0 120 120"},e),p.createElement("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"}))}var bt=h.forwardRef(function(e,t){var a=L(),r=a.classNames,s=a.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var l=o.join(" "),i=k(k({},s.button_reset),s.button);return e.style&&Object.assign(i,e.style),p.createElement("button",k({},e,{ref:t,type:"button",className:l,style:i}))});function Fs(e){var t,a,r=L(),s=r.dir,o=r.locale,l=r.classNames,i=r.styles,d=r.labels,c=d.labelPrevious,u=d.labelNext,f=r.components;if(!e.nextMonth&&!e.previousMonth)return p.createElement(p.Fragment,null);var m=c(e.previousMonth,{locale:o}),v=[l.nav_button,l.nav_button_previous].join(" "),g=u(e.nextMonth,{locale:o}),j=[l.nav_button,l.nav_button_next].join(" "),b=(t=f?.IconRight)!==null&&t!==void 0?t:Ps,C=(a=f?.IconLeft)!==null&&a!==void 0?a:Es;return p.createElement("div",{className:l.nav,style:i.nav},!e.hidePrevious&&p.createElement(bt,{name:"previous-month","aria-label":m,className:v,style:i.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick},s==="rtl"?p.createElement(b,{className:l.nav_icon,style:i.nav_icon}):p.createElement(C,{className:l.nav_icon,style:i.nav_icon})),!e.hideNext&&p.createElement(bt,{name:"next-month","aria-label":g,className:j,style:i.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick},s==="rtl"?p.createElement(C,{className:l.nav_icon,style:i.nav_icon}):p.createElement(b,{className:l.nav_icon,style:i.nav_icon})))}function ma(e){var t=L().numberOfMonths,a=it(),r=a.previousMonth,s=a.nextMonth,o=a.goToMonth,l=a.displayMonths,i=l.findIndex(function(g){return Wt(e.displayMonth,g)}),d=i===0,c=i===l.length-1,u=t>1&&(d||!c),f=t>1&&(c||!d),m=function(){r&&o(r)},v=function(){s&&o(s)};return p.createElement(Fs,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:m,onNextClick:v})}function Ws(e){var t,a=L(),r=a.classNames,s=a.disableNavigation,o=a.styles,l=a.captionLayout,i=a.components,d=(t=i?.CaptionLabel)!==null&&t!==void 0?t:Pa,c;return s?c=p.createElement(d,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?c=p.createElement(fa,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?c=p.createElement(p.Fragment,null,p.createElement(fa,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),p.createElement(ma,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})):c=p.createElement(p.Fragment,null,p.createElement(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),p.createElement(ma,{displayMonth:e.displayMonth,id:e.id})),p.createElement("div",{className:r.caption,style:o.caption},c)}function Ys(e){var t=L(),a=t.footer,r=t.styles,s=t.classNames.tfoot;return a?p.createElement("tfoot",{className:s,style:r.tfoot},p.createElement("tr",null,p.createElement("td",{colSpan:8},a))):p.createElement(p.Fragment,null)}function Ls(e,t,a){for(var r=a?Re(new Date):Ne(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var l=K(r,o);s.push(l)}return s}function As(){var e=L(),t=e.classNames,a=e.styles,r=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,l=e.ISOWeek,i=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,c=Ls(s,o,l);return p.createElement("tr",{style:a.head_row,className:t.head_row},r&&p.createElement("td",{style:a.head_cell,className:t.head_cell}),c.map(function(u,f){return p.createElement("th",{key:f,scope:"col",className:t.head_cell,style:a.head_cell,"aria-label":d(u,{locale:s})},i(u,{locale:s}))}))}function Bs(){var e,t=L(),a=t.classNames,r=t.styles,s=t.components,o=(e=s?.HeadRow)!==null&&e!==void 0?e:As;return p.createElement("thead",{style:r.head,className:a.head},p.createElement(o,null))}function Is(e){var t=L(),a=t.locale,r=t.formatters.formatDay;return p.createElement(p.Fragment,null,r(e.date,{locale:a}))}var Yt=h.createContext(void 0);function Rs(e){if(!ot(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return p.createElement(Yt.Provider,{value:t},e.children)}return p.createElement(Us,{initialProps:e.initialProps,children:e.children})}function Us(e){var t=e.initialProps,a=e.children,r=t.selected,s=t.min,o=t.max,l=function(c,u,f){var m,v;(m=t.onDayClick)===null||m===void 0||m.call(t,c,u,f);var g=!!(u.selected&&s&&r?.length===s);if(!g){var j=!!(!u.selected&&o&&r?.length===o);if(!j){var b=r?$a([],r,!0):[];if(u.selected){var C=b.findIndex(function(M){return z(c,M)});b.splice(C,1)}else b.push(c);(v=t.onSelect)===null||v===void 0||v.call(t,b,c,u,f)}}},i={disabled:[]};r&&i.disabled.push(function(c){var u=o&&r.length>o-1,f=r.some(function(m){return z(m,c)});return!!(u&&!f)});var d={selected:r,onDayClick:l,modifiers:i};return p.createElement(Yt.Provider,{value:d},a)}function Lt(){var e=h.useContext(Yt);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Hs(e,t){var a=t||{},r=a.from,s=a.to;return r&&s?z(s,e)&&z(r,e)?void 0:z(s,e)?{from:s,to:void 0}:z(r,e)?void 0:Ot(r,e)?{from:e,to:s}:{from:r,to:e}:s?Ot(e,s)?{from:s,to:e}:{from:e,to:s}:r?Ta(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var At=h.createContext(void 0);function qs(e){if(!lt(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return p.createElement(At.Provider,{value:t},e.children)}return p.createElement(Vs,{initialProps:e.initialProps,children:e.children})}function Vs(e){var t=e.initialProps,a=e.children,r=t.selected,s=r||{},o=s.from,l=s.to,i=t.min,d=t.max,c=function(v,g,j){var b,C;(b=t.onDayClick)===null||b===void 0||b.call(t,v,g,j);var M=Hs(v,r);(C=t.onSelect)===null||C===void 0||C.call(t,M,v,g,j)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],l?(u.range_end=[l],z(o,l)||(u.range_middle=[{after:o,before:l}])):u.range_end=[o]):l&&(u.range_start=[l],u.range_end=[l]),i&&(o&&!l&&u.disabled.push({after:jt(o,i-1),before:K(o,i-1)}),o&&l&&u.disabled.push({after:o,before:K(o,i-1)}),!o&&l&&u.disabled.push({after:jt(l,i-1),before:K(l,i-1)})),d){if(o&&!l&&(u.disabled.push({before:K(o,-d+1)}),u.disabled.push({after:K(o,d-1)})),o&&l){var f=Se(l,o)+1,m=d-f;u.disabled.push({before:jt(o,m)}),u.disabled.push({after:K(l,m)})}!o&&l&&(u.disabled.push({before:K(l,-d+1)}),u.disabled.push({after:K(l,d-1)}))}return p.createElement(At.Provider,{value:{selected:r,onDayClick:c,modifiers:u}},a)}function Bt(){var e=h.useContext(At);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function vt(e){return Array.isArray(e)?$a([],e,!0):e!==void 0?[e]:[]}function Xs(e){var t={};return Object.entries(e).forEach(function(a){var r=a[0],s=a[1];t[r]=vt(s)}),t}var be;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(be||(be={}));var Gs=be.Selected,Oe=be.Disabled,Qs=be.Hidden,Js=be.Today,kt=be.RangeEnd,_t=be.RangeMiddle,Dt=be.RangeStart,Ks=be.Outside;function zs(e,t,a){var r,s=(r={},r[Gs]=vt(e.selected),r[Oe]=vt(e.disabled),r[Qs]=vt(e.hidden),r[Js]=[e.today],r[kt]=[],r[_t]=[],r[Dt]=[],r[Ks]=[],r);return e.fromDate&&s[Oe].push({before:e.fromDate}),e.toDate&&s[Oe].push({after:e.toDate}),ot(e)?s[Oe]=s[Oe].concat(t.modifiers[Oe]):lt(e)&&(s[Oe]=s[Oe].concat(a.modifiers[Oe]),s[Dt]=a.modifiers[Dt],s[_t]=a.modifiers[_t],s[kt]=a.modifiers[kt]),s}var Ya=h.createContext(void 0);function Zs(e){var t=L(),a=Lt(),r=Bt(),s=zs(t,a,r),o=Xs(t.modifiers),l=k(k({},s),o);return p.createElement(Ya.Provider,{value:l},e.children)}function La(){var e=h.useContext(Ya);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function eo(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function to(e){return!!(e&&typeof e=="object"&&"from"in e)}function ao(e){return!!(e&&typeof e=="object"&&"after"in e)}function ro(e){return!!(e&&typeof e=="object"&&"before"in e)}function no(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function so(e,t){var a,r=t.from,s=t.to;if(r&&s){var o=Se(s,r)<0;o&&(a=[s,r],r=a[0],s=a[1]);var l=Se(e,r)>=0&&Se(s,e)>=0;return l}return s?z(s,e):r?z(r,e):!1}function oo(e){return Et(e)}function lo(e){return Array.isArray(e)&&e.every(Et)}function io(e,t){return t.some(function(a){if(typeof a=="boolean")return a;if(oo(a))return z(e,a);if(lo(a))return a.includes(e);if(to(a))return so(e,a);if(no(a))return a.dayOfWeek.includes(e.getDay());if(eo(a)){var r=Se(a.before,e),s=Se(a.after,e),o=r>0,l=s<0,i=Ot(a.before,a.after);return i?l&&o:o||l}return ao(a)?Se(e,a.after)>0:ro(a)?Se(a.before,e)>0:typeof a=="function"?a(e):!1})}function It(e,t,a){var r=Object.keys(t).reduce(function(o,l){var i=t[l];return io(e,i)&&o.push(l),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),a&&!Wt(e,a)&&(s.outside=!0),s}function co(e,t){for(var a=Z(e[0]),r=Pt(e[e.length-1]),s,o,l=a;l<=r;){var i=It(l,t),d=!i.disabled&&!i.hidden;if(!d){l=K(l,1);continue}if(i.selected)return l;i.today&&!o&&(o=l),s||(s=l),l=K(l,1)}return o||s}var uo=365;function Aa(e,t){var a=t.moveBy,r=t.direction,s=t.context,o=t.modifiers,l=t.retry,i=l===void 0?{count:0,lastFocused:e}:l,d=s.weekStartsOn,c=s.fromDate,u=s.toDate,f=s.locale,m={day:K,week:Mt,month:ge,year:Mr,startOfWeek:function(b){return s.ISOWeek?Re(b):Ne(b,{locale:f,weekStartsOn:d})},endOfWeek:function(b){return s.ISOWeek?Da(b):Ft(b,{locale:f,weekStartsOn:d})}},v=m[a](e,r==="after"?1:-1);r==="before"&&c?v=Or([c,v]):r==="after"&&u&&(v=Sr([u,v]));var g=!0;if(o){var j=It(v,o);g=!j.disabled&&!j.hidden}return g?v:i.count>uo?i.lastFocused:Aa(v,{moveBy:a,direction:r,context:s,modifiers:o,retry:k(k({},i),{count:i.count+1})})}var Ba=h.createContext(void 0);function fo(e){var t=it(),a=La(),r=h.useState(),s=r[0],o=r[1],l=h.useState(),i=l[0],d=l[1],c=co(t.displayMonths,a),u=s??(i&&t.isDateDisplayed(i))?i:c,f=function(){d(s),o(void 0)},m=function(b){o(b)},v=L(),g=function(b,C){if(s){var M=Aa(s,{moveBy:b,direction:C,context:v,modifiers:a});z(s,M)||(t.goToDate(M,s),m(M))}},j={focusedDay:s,focusTarget:u,blur:f,focus:m,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return p.createElement(Ba.Provider,{value:j},e.children)}function Rt(){var e=h.useContext(Ba);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function mo(e,t){var a=La(),r=It(e,a,t);return r}var Ut=h.createContext(void 0);function ho(e){if(!yt(e.initialProps)){var t={selected:void 0};return p.createElement(Ut.Provider,{value:t},e.children)}return p.createElement(vo,{initialProps:e.initialProps,children:e.children})}function vo(e){var t=e.initialProps,a=e.children,r=function(o,l,i){var d,c,u;if((d=t.onDayClick)===null||d===void 0||d.call(t,o,l,i),l.selected&&!t.required){(c=t.onSelect)===null||c===void 0||c.call(t,void 0,o,l,i);return}(u=t.onSelect)===null||u===void 0||u.call(t,o,o,l,i)},s={selected:t.selected,onDayClick:r};return p.createElement(Ut.Provider,{value:s},a)}function Ia(){var e=h.useContext(Ut);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function po(e,t){var a=L(),r=Ia(),s=Lt(),o=Bt(),l=Rt(),i=l.focusDayAfter,d=l.focusDayBefore,c=l.focusWeekAfter,u=l.focusWeekBefore,f=l.blur,m=l.focus,v=l.focusMonthBefore,g=l.focusMonthAfter,j=l.focusYearBefore,b=l.focusYearAfter,C=l.focusStartOfWeek,M=l.focusEndOfWeek,D=function(x){var y,Ce,Me,Te;yt(a)?(y=r.onDayClick)===null||y===void 0||y.call(r,e,t,x):ot(a)?(Ce=s.onDayClick)===null||Ce===void 0||Ce.call(s,e,t,x):lt(a)?(Me=o.onDayClick)===null||Me===void 0||Me.call(o,e,t,x):(Te=a.onDayClick)===null||Te===void 0||Te.call(a,e,t,x)},F=function(x){var y;m(e),(y=a.onDayFocus)===null||y===void 0||y.call(a,e,t,x)},O=function(x){var y;f(),(y=a.onDayBlur)===null||y===void 0||y.call(a,e,t,x)},I=function(x){var y;(y=a.onDayMouseEnter)===null||y===void 0||y.call(a,e,t,x)},J=function(x){var y;(y=a.onDayMouseLeave)===null||y===void 0||y.call(a,e,t,x)},X=function(x){var y;(y=a.onDayPointerEnter)===null||y===void 0||y.call(a,e,t,x)},ne=function(x){var y;(y=a.onDayPointerLeave)===null||y===void 0||y.call(a,e,t,x)},A=function(x){var y;(y=a.onDayTouchCancel)===null||y===void 0||y.call(a,e,t,x)},ke=function(x){var y;(y=a.onDayTouchEnd)===null||y===void 0||y.call(a,e,t,x)},_e=function(x){var y;(y=a.onDayTouchMove)===null||y===void 0||y.call(a,e,t,x)},Ye=function(x){var y;(y=a.onDayTouchStart)===null||y===void 0||y.call(a,e,t,x)},De=function(x){var y;(y=a.onDayKeyUp)===null||y===void 0||y.call(a,e,t,x)},B=function(x){var y;switch(x.key){case"ArrowLeft":x.preventDefault(),x.stopPropagation(),a.dir==="rtl"?i():d();break;case"ArrowRight":x.preventDefault(),x.stopPropagation(),a.dir==="rtl"?d():i();break;case"ArrowDown":x.preventDefault(),x.stopPropagation(),c();break;case"ArrowUp":x.preventDefault(),x.stopPropagation(),u();break;case"PageUp":x.preventDefault(),x.stopPropagation(),x.shiftKey?j():v();break;case"PageDown":x.preventDefault(),x.stopPropagation(),x.shiftKey?b():g();break;case"Home":x.preventDefault(),x.stopPropagation(),C();break;case"End":x.preventDefault(),x.stopPropagation(),M();break}(y=a.onDayKeyDown)===null||y===void 0||y.call(a,e,t,x)},G={onClick:D,onFocus:F,onBlur:O,onKeyDown:B,onKeyUp:De,onMouseEnter:I,onMouseLeave:J,onPointerEnter:X,onPointerLeave:ne,onTouchCancel:A,onTouchEnd:ke,onTouchMove:_e,onTouchStart:Ye};return G}function go(){var e=L(),t=Ia(),a=Lt(),r=Bt(),s=yt(e)?t.selected:ot(e)?a.selected:lt(e)?r.selected:void 0;return s}function bo(e){return Object.values(be).includes(e)}function xo(e,t){var a=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)a.push(s);else if(bo(r)){var o=e.classNames["day_".concat(r)];o&&a.push(o)}}),a}function yo(e,t){var a=k({},e.styles.day);return Object.keys(t).forEach(function(r){var s;a=k(k({},a),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),a}function wo(e,t,a){var r,s,o,l=L(),i=Rt(),d=mo(e,t),c=po(e,d),u=go(),f=!!(l.onDayClick||l.mode!=="default");h.useEffect(function(){var I;d.outside||i.focusedDay&&f&&z(i.focusedDay,e)&&((I=a.current)===null||I===void 0||I.focus())},[i.focusedDay,e,a,f,d.outside]);var m=xo(l,d).join(" "),v=yo(l,d),g=!!(d.outside&&!l.showOutsideDays||d.hidden),j=(o=(s=l.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:Is,b=p.createElement(j,{date:e,displayMonth:t,activeModifiers:d}),C={style:v,className:m,children:b,role:"gridcell"},M=i.focusTarget&&z(i.focusTarget,e)&&!d.outside,D=i.focusedDay&&z(i.focusedDay,e),F=k(k(k({},C),(r={disabled:d.disabled,role:"gridcell"},r["aria-selected"]=d.selected,r.tabIndex=D||M?0:-1,r)),c),O={isButton:f,isHidden:g,activeModifiers:d,selectedDays:u,buttonProps:F,divProps:C};return O}function jo(e){var t=h.useRef(null),a=wo(e.date,e.displayMonth,t);return a.isHidden?p.createElement("div",{role:"gridcell"}):a.isButton?p.createElement(bt,k({name:"day",ref:t},a.buttonProps)):p.createElement("div",k({},a.divProps))}function No(e){var t=e.number,a=e.dates,r=L(),s=r.onWeekNumberClick,o=r.styles,l=r.classNames,i=r.locale,d=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,u=c(Number(t),{locale:i});if(!s)return p.createElement("span",{className:l.weeknumber,style:o.weeknumber},u);var f=d(Number(t),{locale:i}),m=function(v){s(t,a,v)};return p.createElement(bt,{name:"week-number","aria-label":f,className:l.weeknumber,style:o.weeknumber,onClick:m},u)}function ko(e){var t,a,r=L(),s=r.styles,o=r.classNames,l=r.showWeekNumber,i=r.components,d=(t=i?.Day)!==null&&t!==void 0?t:jo,c=(a=i?.WeekNumber)!==null&&a!==void 0?a:No,u;return l&&(u=p.createElement("td",{className:o.cell,style:s.cell},p.createElement(c,{number:e.weekNumber,dates:e.dates}))),p.createElement("tr",{className:o.row,style:s.row},u,e.dates.map(function(f){return p.createElement("td",{className:o.cell,style:s.cell,key:Qn(f),role:"presentation"},p.createElement(d,{displayMonth:e.displayMonth,date:f}))}))}function ha(e,t,a){for(var r=a?.ISOWeek?Da(t):Ft(t,a),s=a?.ISOWeek?Re(e):Ne(e,a),o=Se(r,s),l=[],i=0;i<=o;i++)l.push(K(s,i));var d=l.reduce(function(c,u){var f=a?.ISOWeek?Xn(u):Zn(u,a),m=c.find(function(v){return v.weekNumber===f});return m?(m.dates.push(u),c):(c.push({weekNumber:f,dates:[u]}),c)},[]);return d}function _o(e,t){var a=ha(Z(e),Pt(e),t);if(t?.useFixedWeeks){var r=ts(e,t);if(r<6){var s=a[a.length-1],o=s.dates[s.dates.length-1],l=Mt(o,6-r),i=ha(Mt(o,1),l,t);a.push.apply(a,i)}}return a}function Do(e){var t,a,r,s=L(),o=s.locale,l=s.classNames,i=s.styles,d=s.hideHead,c=s.fixedWeeks,u=s.components,f=s.weekStartsOn,m=s.firstWeekContainsDate,v=s.ISOWeek,g=_o(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:v,locale:o,weekStartsOn:f,firstWeekContainsDate:m}),j=(t=u?.Head)!==null&&t!==void 0?t:Bs,b=(a=u?.Row)!==null&&a!==void 0?a:ko,C=(r=u?.Footer)!==null&&r!==void 0?r:Ys;return p.createElement("table",{id:e.id,className:l.table,style:i.table,role:"grid","aria-labelledby":e["aria-labelledby"]},!d&&p.createElement(j,null),p.createElement("tbody",{className:l.tbody,style:i.tbody},g.map(function(M){return p.createElement(b,{displayMonth:e.displayMonth,key:M.weekNumber,dates:M.dates,weekNumber:M.weekNumber})})),p.createElement(C,{displayMonth:e.displayMonth}))}function Co(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Mo=Co()?h.useLayoutEffect:h.useEffect,Ct=!1,Oo=0;function va(){return"react-day-picker-".concat(++Oo)}function So(e){var t,a=e??(Ct?va():null),r=h.useState(a),s=r[0],o=r[1];return Mo(function(){s===null&&o(va())},[]),h.useEffect(function(){Ct===!1&&(Ct=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function To(e){var t,a,r=L(),s=r.dir,o=r.classNames,l=r.styles,i=r.components,d=it().displayMonths,c=So(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,f=[o.month],m=l.month,v=e.displayIndex===0,g=e.displayIndex===d.length-1,j=!v&&!g;s==="rtl"&&(t=[v,g],g=t[0],v=t[1]),v&&(f.push(o.caption_start),m=k(k({},m),l.caption_start)),g&&(f.push(o.caption_end),m=k(k({},m),l.caption_end)),j&&(f.push(o.caption_between),m=k(k({},m),l.caption_between));var b=(a=i?.Caption)!==null&&a!==void 0?a:Ws;return p.createElement("div",{key:e.displayIndex,className:f.join(" "),style:m},p.createElement(b,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),p.createElement(Do,{id:u,"aria-labelledby":c,displayMonth:e.displayMonth}))}function $o(e){var t=e.initialProps,a=L(),r=Rt(),s=it(),o=h.useState(!1),l=o[0],i=o[1];h.useEffect(function(){a.initialFocus&&r.focusTarget&&(l||(r.focus(r.focusTarget),i(!0)))},[a.initialFocus,l,r.focus,r.focusTarget,r]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var c=k(k({},a.styles.root),a.style),u=Object.keys(t).filter(function(f){return f.startsWith("data-")}).reduce(function(f,m){var v;return k(k({},f),(v={},v[m]=t[m],v))},{});return p.createElement("div",k({className:d.join(" "),style:c,dir:a.dir,id:a.id},u),p.createElement("div",{className:a.classNames.months,style:a.styles.months},s.displayMonths.map(function(f,m){return p.createElement(To,{key:m,displayIndex:m,displayMonth:f})})))}function Eo(e){var t=e.children,a=rs(e,["children"]);return p.createElement(js,{initialProps:a},p.createElement($s,null,p.createElement(ho,{initialProps:a},p.createElement(Rs,{initialProps:a},p.createElement(qs,{initialProps:a},p.createElement(Zs,null,p.createElement(fo,null,t)))))))}function Po(e){return p.createElement(Eo,k({},e),p.createElement($o,{initialProps:e}))}function Ra({className:e,classNames:t,showOutsideDays:a=!0,...r}){return n.jsx(Po,{showOutsideDays:a,className:Ie("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ie(qt({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Ie("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Ie(qt({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>n.jsx(Za,{className:"h-4 w-4"}),IconRight:({...s})=>n.jsx(er,{className:"h-4 w-4"})},...r})}Ra.displayName="Calendar";const Ua="Popover",[Ha,cl]=tr(Ua,[wa]),Ht=wa(),[Fo,Je]=Ha(Ua),Wo=e=>{const{__scopePopover:t,children:a,open:r,defaultOpen:s,onOpenChange:o,modal:l=!1}=e,i=Ht(t),d=h.useRef(null),[c,u]=h.useState(!1),[f=!1,m]=dr({prop:r,defaultProp:s,onChange:o});return h.createElement(ur,i,h.createElement(Fo,{scope:t,contentId:fr(),triggerRef:d,open:f,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(v=>!v),[m]),hasCustomAnchor:c,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:l},a))},Yo="PopoverTrigger",Lo=h.forwardRef((e,t)=>{const{__scopePopover:a,...r}=e,s=Je(Yo,a),o=Ht(a),l=Na(t,s.triggerRef),i=h.createElement(ka.button,Pe({type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Xa(s.open)},r,{ref:l,onClick:ht(e.onClick,s.onOpenToggle)}));return s.hasCustomAnchor?i:h.createElement(mr,Pe({asChild:!0},o),i)}),qa="PopoverPortal",[Ao,Bo]=Ha(qa,{forceMount:void 0}),Io=e=>{const{__scopePopover:t,forceMount:a,children:r,container:s}=e,o=Je(qa,t);return h.createElement(Ao,{scope:t,forceMount:a},h.createElement(ja,{present:a||o.open},h.createElement(ar,{asChild:!0,container:s},r)))},st="PopoverContent",Ro=h.forwardRef((e,t)=>{const a=Bo(st,e.__scopePopover),{forceMount:r=a.forceMount,...s}=e,o=Je(st,e.__scopePopover);return h.createElement(ja,{present:r||o.open},o.modal?h.createElement(Uo,Pe({},s,{ref:t})):h.createElement(Ho,Pe({},s,{ref:t})))}),Uo=h.forwardRef((e,t)=>{const a=Je(st,e.__scopePopover),r=h.useRef(null),s=Na(t,r),o=h.useRef(!1);return h.useEffect(()=>{const l=r.current;if(l)return rr(l)},[]),h.createElement(nr,{as:sr,allowPinchZoom:!0},h.createElement(Va,Pe({},e,{ref:s,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ht(e.onCloseAutoFocus,l=>{var i;l.preventDefault(),o.current||(i=a.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:ht(e.onPointerDownOutside,l=>{const i=l.detail.originalEvent,d=i.button===0&&i.ctrlKey===!0,c=i.button===2||d;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ht(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})))}),Ho=h.forwardRef((e,t)=>{const a=Je(st,e.__scopePopover),r=h.useRef(!1),s=h.useRef(!1);return h.createElement(Va,Pe({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l;if((l=e.onCloseAutoFocus)===null||l===void 0||l.call(e,o),!o.defaultPrevented){var i;r.current||(i=a.triggerRef.current)===null||i===void 0||i.focus(),o.preventDefault()}r.current=!1,s.current=!1},onInteractOutside:o=>{var l,i;(l=e.onInteractOutside)===null||l===void 0||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const d=o.target;((i=a.triggerRef.current)===null||i===void 0?void 0:i.contains(d))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}}))}),Va=h.forwardRef((e,t)=>{const{__scopePopover:a,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:u,...f}=e,m=Je(st,a),v=Ht(a);return or(),h.createElement(lr,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o},h.createElement(ir,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1)},h.createElement(cr,Pe({"data-state":Xa(m.open),role:"dialog",id:m.contentId},v,f,{ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function Xa(e){return e?"open":"closed"}const qo=Wo,Vo=Lo,Xo=Io,Ga=Ro,Go=qo,Qo=Vo,Qa=h.forwardRef(({className:e,align:t="center",sideOffset:a=4,...r},s)=>n.jsx(Xo,{children:n.jsx(Ga,{ref:s,align:t,sideOffset:a,className:Ie("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Qa.displayName=Ga.displayName;function pa(e){const{usr:t,thisAssetA:a,thisAssetB:r,assetAData:s,assetBData:o,orderType:l,marketSearch:i,usrBalances:d,fee:c}=e,{buyOrders:u,sellOrders:f}=e,[m,v]=h.useState(0),[g,j]=h.useState(0),[b,C]=h.useState(0),[M,D]=h.useState(0);h.useEffect(()=>{if(m&&g&&b){if(l==="buy"&&s&&s.market_fee_percent&&s.market_fee_percent>0){const T=parseFloat(m)*(s.market_fee_percent/100);D(T.toFixed(s.precision))}if(l==="sell"&&o&&o.market_fee_percent&&o.market_fee_percent>0){const T=parseFloat(b)*(o.market_fee_percent/100);D(T.toFixed(o.precision))}}},[m,g,b]);const[F,O]=h.useState("1hr"),[I,J]=h.useState(()=>{const T=new Date,_=60*60*1e3;return new Date(T.getTime()+_)}),[X,ne]=h.useState(new Date(Date.now()+7*24*60*60*1e3));h.useEffect(()=>{F==="specific"&&X&&J(X)},[F,X]);const A=wr({defaultValues:{account:""}}),[ke,_e]=h.useState(""),[Ye,De]=h.useState(),[B,G]=h.useState(!1),[x,y]=h.useState(!1),[Ce,Me]=h.useState(!1);h.useEffect(()=>{if(Ce){async function T(){G(!0);var _=new Date;_.setMinutes(_.getMinutes()+60);const W=l==="buy"?[{seller:t.id,amount_to_sell:{amount:mt(b,o.precision).toFixed(0),asset_id:i.find(U=>U.s===r).id},min_to_receive:{amount:mt(m,s.precision).toFixed(0),asset_id:i.find(U=>U.s===a).id},expiration:I,fill_or_kill:!1,extensions:[]}]:[{seller:t.id,amount_to_sell:{amount:mt(m,s.precision).toFixed(0),asset_id:i.find(U=>U.s===a).id},min_to_receive:{amount:mt(b,o.precision).toFixed(0),asset_id:i.find(U=>U.s===r).id},expiration:I,fill_or_kill:!1,extensions:[]}];De(W);const V=await fetch(`http://localhost:8080/api/deeplink/${t.chain}/limit_order_create`,{method:"POST",body:JSON.stringify(W)});if(!V.ok){console.log("Failed to generate deeplink");return}const $=await V.json();$&&$.result&&$.result.generatedDeepLink&&_e($.result.generatedDeepLink),G(!1)}i&&T()}},[Ce,a,r,i]);const[Te,Ke]=h.useState(!1),R=()=>{Te||(Ke(!0),setTimeout(()=>{Ke(!1)},1e4))},[Ue,He]=h.useState(0),[ue,Y]=h.useState(0);return h.useEffect(()=>{function T(_){const W=_.id,V=d.find($=>$.asset_id===W);return V?_a(V.amount,_.precision).toLocaleString(void 0,{minimumFractionDigits:_.precision}):0}if(s&&d){const _=T(s);He(_)}if(o&&d){const _=T(o);Y(_)}},[s,o,d]),n.jsxs(he,{children:[n.jsxs(ve,{className:"pb-2",children:[n.jsx(pe,{children:l==="buy"?`Buying ${a} with ${r}`:`Selling ${a} for ${r}`}),n.jsx(je,{children:"Use this form to create a limit order operation."})]}),n.jsxs(we,{children:[a&&r&&i&&s&&o?n.jsx(sa,{...A,children:n.jsxs("form",{onSubmit:T=>{Me(!0),y(!0),T.preventDefault()},children:[n.jsx(le,{control:A.control,name:"sellPrice",render:({field:T})=>n.jsxs(ie,{children:[n.jsx(ce,{children:n.jsxs("div",{className:"grid grid-cols-2 mt-3",children:[n.jsx("div",{className:"mt-1",children:"Price"}),n.jsx("div",{className:"text-gray-500 text-right",children:l==="buy"&&!f||f&&!f.length||l==="sell"&&!u||u&&!u.length?n.jsx(re,{disabled:!0,children:l==="buy"?"Use lowest ask":"Use highest bid"}):n.jsx("span",{variant:"link",onClick:_=>{_.preventDefault();let W;l==="buy"&&f&&f.length>0?W=Ee(f[0].price,o.precision):l==="sell"&&u&&u.length>0&&(W=Ee(u[0].price,o.precision)),W&&(j(parseFloat(W).toFixed(l==="buy"?o.precision:s.precision)),m&&C((parseFloat(W)*parseFloat(m)).toFixed(o.precision)))},children:n.jsx(re,{children:l==="buy"?"Use lowest ask":"Use highest bid"})})})]})}),n.jsx(Ae,{onChange:_=>{const W=_.target.value;if(/^[0-9,]*\.?[0-9]*$/.test(W)){const $=parseFloat(W.replaceAll(",",""));$&&(j($.toFixed(l==="buy"?o.precision:s.precision)),m&&C(($*m).toFixed(l==="buy"?o.precision:s.precision)))}},children:n.jsx(xe,{value:g,placeholder:g,className:"mb-3"})}),n.jsx(de,{children:l==="buy"?`Your price per ${a} in ${r}`:`Your price per ${r} in ${a}`}),n.jsx(ye,{})]})}),n.jsx(le,{control:A.control,name:"sellAmount",render:({field:T})=>n.jsxs(ie,{children:[n.jsx(ce,{children:n.jsxs("div",{className:"grid grid-cols-2 mt-3",children:[n.jsx("div",{className:"mt-1",children:"Amount"}),n.jsx("div",{className:"text-gray-500 text-right",children:l==="sell"&&Ue?n.jsx(re,{onClick:()=>{let _=parseFloat(Ue.replaceAll(",",""));_&&(v(_.toFixed(s.precision)),g&&C((_*g).toFixed(o.precision)))},children:"Use balance"}):null})]})}),n.jsx(Ae,{onChange:_=>{const W=_.target.value;if(/^[0-9,]*\.?[0-9]*$/.test(W)){const $=parseFloat(W.replaceAll(",",""));$&&(v($.toFixed(s.precision)),g&&C(($*g).toFixed(o.precision)))}},children:n.jsx(xe,{value:m,placeholder:m,className:"mb-3"})}),n.jsx(de,{children:l==="buy"?`The amount of ${a} you want to buy`:`The amount of ${a} you will have to spend`}),n.jsx(ye,{})]})}),n.jsx(le,{control:A.control,name:"sellTotal",render:({field:T})=>n.jsxs(ie,{children:[n.jsx(ce,{children:n.jsxs("div",{className:"grid grid-cols-2 mt-3",children:[n.jsx("div",{className:"mt-1",children:"Total"}),n.jsx("div",{className:"text-gray-500 text-right",children:l==="buy"&&ue?n.jsx(re,{onClick:()=>{let _=parseFloat(ue.replaceAll(",",""));_&&(C(_.toFixed(o.precision)),g&&v((_/g).toFixed(s.precision)))},children:"Use balance"}):null})]})}),n.jsx(Ae,{onChange:_=>{const W=_.target.value;if(/^[0-9,]*\.?[0-9]*$/.test(W)){const $=parseFloat(W.replaceAll(",",""));$&&(C($.toFixed(o.precision)),g&&v(($/g).toFixed(s.precision)))}},children:n.jsx(xe,{value:b,placeholder:b,className:"mb-3"})}),n.jsx(de,{children:l==="buy"?`The total ${r} you will have to spend`:`The total ${r} you will receive`}),l==="buy"&&ue&&parseFloat(ue.replaceAll(",","")).toFixed(o.precision)<m&&b-parseFloat(ue.replaceAll(",",""))>0?n.jsxs(ye,{children:["A further"," ",b-parseFloat(ue.replaceAll(",","")).toFixed(o.precision)," ",r," is required"]}):null]})}),n.jsx(le,{control:A.control,name:"expiry",render:({field:T})=>n.jsxs(ie,{children:[n.jsx(ce,{children:"Limit order expriration"}),n.jsx(Ae,{onValueChange:_=>{O(_);const W=60*60*1e3,V=24*W;if(_!=="specific"&&_!=="fkill"){const $=new Date;let U;if(_==="1hr")U=new Date($.getTime()+W);else if(_==="12hr"){const se=W*12;U=new Date($.getTime()+se)}else if(_==="24hr"){const se=V;U=new Date($.getTime()+se)}else if(_==="7d"){const se=V*7;U=new Date($.getTime()+se)}else if(_==="30d"){const se=V*30;U=new Date($.getTime()+se)}U&&ne(U),J(_)}else if(_==="fkill"){const $=new Date;J(new Date($.getTime()+V))}else _==="specific"&&J()},children:n.jsxs(Zt,{children:[n.jsx(ea,{className:"mb-3",children:n.jsx(ta,{placeholder:"1hr"})}),n.jsxs(xr,{className:"bg-white",children:[n.jsx(Le,{value:"1hr",children:"1 hour"}),n.jsx(Le,{value:"12hr",children:"12 hours"}),n.jsx(Le,{value:"24hr",children:"24 hours"}),n.jsx(Le,{value:"7d",children:"7 days"}),n.jsx(Le,{value:"30d",children:"30 days"}),n.jsx(Le,{value:"specific",children:"Specific date"}),n.jsx(Le,{value:"fkill",children:"Fill or kill"})]})]})}),n.jsxs(de,{children:[F==="specific"?n.jsxs(Go,{children:[n.jsx(Qo,{asChild:!0,children:n.jsxs(H,{variant:"outline",className:Ie("w-[240px] justify-start text-left font-normal",!X&&"text-muted-foreground"),children:[n.jsx(hr,{className:"mr-2 h-4 w-4"}),X?We(X,"PPP"):n.jsx("span",{children:"Pick a date"})]})}),n.jsx(Qa,{className:"w-auto p-0",align:"start",children:n.jsx(Ra,{mode:"single",selected:X,onSelect:_=>{if(new Date(_)<new Date){console.log("Not a valid date"),ne(new Date(Date.now()+1*24*60*60*1e3));return}console.log("Setting expiry date"),ne(_)},initialFocus:!0})})]}):null,F==="fkill"?"This order immediately expires if not fillable":null,F!=="specific"&&F!=="fkill"?`This limit order will expire ${F} after broadcast`:null]}),n.jsx(ye,{})]})}),n.jsx(le,{control:A.control,disabled:!0,name:"fee",render:({field:T})=>n.jsxs(ie,{children:[n.jsx(ce,{children:"Fee"}),n.jsx(Ae,{children:n.jsx(xe,{disabled:!0,label:"fees",value:`${c} BTS`,placeholder:1})}),n.jsx(de,{children:"The network fee to broadcast this operation"}),F==="fkill"||t.id===t.referrer?n.jsxs(ye,{children:[F==="fkill"?`Unfilled rebate: ${c} BTS (instant)`:null,n.jsx("br",{}),t.id===t.referrer?`LTM rebate: ${.8*c} BTS (vesting)`:null]}):null]})}),l==="buy"&&s&&s.market_fee_percent&&s.market_fee_percent>0?n.jsx(le,{control:A.control,disabled:!0,name:"marketFees",render:({field:T})=>n.jsxs(ie,{children:[n.jsx(ce,{children:"Market fee"}),n.jsx(Ae,{children:n.jsx(xe,{disabled:!0,value:`${M} ${s.symbol}`,placeholder:`${M} ${s.symbol}`})}),n.jsx(de,{children:"The market fee applied by asset issuer"})]})}):null,l==="sell"&&o&&o.market_fee_percent&&o.market_fee_percent>0?n.jsx(le,{control:A.control,disabled:!0,name:"marketFees",render:({field:T})=>n.jsxs(ie,{children:[n.jsx(ce,{children:"Market fee"}),n.jsx(Ae,{children:n.jsx(xe,{disabled:!0,value:`${M} ${o.symbol}`,placeholder:`${M} ${o.symbol}`})}),n.jsx(ye,{}),n.jsx(de,{children:"The market fee applied by asset issuer"})]})}):null,!m||!g||!I||B!==!1?n.jsx(H,{className:"mt-7 mb-1",variant:"outline",disabled:!0,type:"submit",children:"Submit"}):n.jsx(H,{className:"mt-7 mb-1",variant:"outline",type:"submit",children:"Submit"})]})}):n.jsx(sa,{...A,children:n.jsxs("form",{children:[n.jsx(le,{control:A.control,name:"sellPrice",render:({field:T})=>n.jsxs(ie,{children:[n.jsx(ce,{children:n.jsxs("div",{className:"grid grid-cols-2 mt-3",children:[n.jsx("div",{className:"mt-1",children:"Price"}),n.jsx("div",{className:"text-gray-500 text-right",children:n.jsx("span",{variant:"link",children:n.jsx(re,{children:"Use lowest ask"})})})]})}),n.jsx(xe,{disabled:!0,className:"mb-3"}),n.jsx(de,{children:"Your price per ? in ?"}),n.jsx(ye,{})]})}),n.jsx(le,{control:A.control,name:"sellAmount",render:({field:T})=>n.jsxs(ie,{children:[n.jsx(ce,{children:n.jsxs("div",{className:"grid grid-cols-2 mt-3",children:[n.jsx("div",{className:"mt-1",children:"Amount"}),n.jsx("div",{className:"text-gray-500 text-right",children:l==="sell"&&Ue?n.jsx(re,{children:"Use balance"}):null})]})}),n.jsx(xe,{disabled:!0,className:"mb-3"}),n.jsx(de,{children:l==="buy"?"The amount of ? you want to buy":"The amount of ? you will have to spend"}),n.jsx(ye,{})]})}),n.jsx(le,{control:A.control,name:"sellTotal",render:({field:T})=>n.jsxs(ie,{children:[n.jsx(ce,{children:n.jsxs("div",{className:"grid grid-cols-2 mt-3",children:[n.jsx("div",{className:"mt-1",children:"Total"}),n.jsx("div",{className:"text-gray-500 text-right",children:l==="buy"&&ue?n.jsx(re,{children:"Use balance"}):null})]})}),n.jsx(xe,{disabled:!0,className:"mb-3"}),n.jsx(de,{children:l==="buy"?"The total ? you will have to spend":"The total ? you will receive"})]})}),n.jsx(le,{control:A.control,name:"expiry",render:({field:T})=>n.jsxs(ie,{children:[n.jsx(ce,{children:"Limit order expriration"}),n.jsx(Zt,{disabled:!0,children:n.jsx(ea,{className:"mb-3",children:n.jsx(ta,{placeholder:"1hr"})})}),n.jsx(de,{children:"Time till expiration..."}),n.jsx(ye,{})]})}),n.jsx(le,{control:A.control,disabled:!0,name:"fee",render:({field:T})=>n.jsxs(ie,{children:[n.jsx(ce,{children:"Fee"}),n.jsx(xe,{disabled:!0,label:"fees"}),n.jsx(de,{children:"The network fee to broadcast this operation"}),F==="fkill"||t.id===t.referrer?n.jsxs(ye,{children:[F==="fkill"?`Unfilled rebate: ${1*.4826} BTS (instant)`:null,t.id===t.referrer?`LTM rebate: ${.8*.4826} BTS (vesting)`:null]}):null]})}),n.jsx(H,{disabled:!0,className:"mt-7 mb-1",variant:"outline",type:"submit",children:"Submit"})]})}),x&&Ce&&ke&&n.jsx(vr,{open:x,onOpenChange:T=>{T||(Me(""),_e(""),De()),y(T)},children:n.jsx(pr,{className:"sm:max-w-[425px] bg-white",children:n.jsxs(n.Fragment,{children:[n.jsx("h1",{className:"scroll-m-20 text-2xl font-extrabold tracking-tight",children:l==="buy"?`Buying ${m} ${a} for ${b} ${r}`:`Selling ${m} ${a} for ${b} ${r}`}),n.jsxs("h3",{className:"scroll-m-20 text-1xl font-semibold tracking-tight mb-3 mt-1",children:["With the account: ",t.username," (",t.id,")",n.jsx("br",{}),"Your Bitshares create limit order operation is ready!",n.jsx("br",{}),"Use the links below to interact with the Beet wallet."]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsx(H,{color:"gray",className:"w-full",onClick:()=>{jr(JSON.stringify(Ye,null,4))},variant:"outline",children:"Copy operation JSON"}),Te?n.jsx(H,{variant:"outline",disabled:!0,children:"Downloading..."}):n.jsx("a",{href:`data:text/json;charset=utf-8,${ke}`,download:"pool_exchange.json",target:"_blank",rel:"noreferrer",onClick:R,children:n.jsx(H,{variant:"outline",className:"w-full",children:"Download Beet operation JSON"})}),n.jsx("a",{href:`rawbeet://api?chain=BTS&request=${ke}`,children:n.jsx(H,{variant:"outline",className:"w-full",children:"Trigger raw Beet deeplink"})})]})]})})})]})]})}const St="horizontal",Jo=["horizontal","vertical"],Ja=h.forwardRef((e,t)=>{const{decorative:a,orientation:r=St,...s}=e,o=Ka(r)?r:St,i=a?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return h.createElement(ka.div,Pe({"data-orientation":o},i,s,{ref:t}))});Ja.propTypes={orientation(e,t,a){const r=e[t],s=String(r);return r&&!Ka(r)?new Error(Ko(s,a)):null}};function Ko(e,t){return`Invalid prop \`orientation\` of value \`${e}\` supplied to \`${t}\`, expected one of:
  - horizontal
  - vertical

Defaulting to \`${St}\`.`}function Ka(e){return Jo.includes(e)}const za=Ja,Tt=h.forwardRef(({className:e,orientation:t="horizontal",decorative:a=!0,...r},s)=>n.jsx(za,{ref:s,decorative:a,orientation:t,className:Ie("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Tt.displayName=za.displayName;function ga(e){const{cardType:t,activeLimitCard:a,assetA:r,assetAData:s,assetB:o,assetBData:l,buyOrders:i,sellOrders:d,marketInProgress:c,orderBookItr:u,setOrderBookItr:f,_resetOrders:m}=e;return n.jsxs(n.Fragment,{children:[c?n.jsx(he,{children:n.jsxs(ve,{children:[n.jsx(pe,{children:"Loading market orders"}),n.jsx(je,{children:"Fetching requested market data, please wait..."}),n.jsxs(we,{children:[n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"})]}),n.jsx(at,{children:n.jsx(H,{className:"mt-5",onClick:()=>f(u+1),children:"Retry request"})})]})}):null,(t==="buy"&&!i||t==="sell"&&!d)&&!c?n.jsx(he,{children:n.jsxs(ve,{children:[n.jsx(pe,{children:"Loading market orders"}),n.jsxs(je,{children:["Failed to fetch market data, please try again.",n.jsx("br",{}),n.jsx(H,{className:"mt-5",onClick:()=>f(u+1),children:"Refresh"})]})]})}):null,(t==="buy"&&i||t==="sell"&&d)&&!c?n.jsxs(he,{children:[n.jsxs(ve,{children:[n.jsx(pe,{children:n.jsxs("div",{className:"grid grid-cols-2",children:[n.jsxs("div",{children:[t==="buy"?"Buy":"Sell"," orders"]}),n.jsxs("div",{className:"text-right",children:["Market depth:"," ",t==="buy"?i.map(v=>parseFloat(v.quote)).reduce((v,g)=>v+g,0).toFixed(l.precision):d.map(v=>parseFloat(v.quote)).reduce((v,g)=>v+g,0).toFixed(s.precision)," ","(",t==="buy"?l.symbol:s.symbol,")"]})]})}),n.jsx(je,{children:t==="buy"?`The following table displays network offers to purchase ${r} with ${o}`:`The following table displays network offers to sell ${r} for ${o}`})]}),n.jsx(we,{children:t==="buy"&&!i.length||t==="sell"&&!d.length?n.jsxs(n.Fragment,{children:["No ",t==="buy"?"buy":"sell"," limit orders found"]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-4",children:[n.jsx("div",{className:"col-span-1 pl-3",children:"Price"}),n.jsx("div",{className:"col-span-1 pl-3 text-md",children:t==="buy"?"Buying":"Selling"}),n.jsx("div",{className:"col-span-1 pl-3",children:t==="buy"?"Selling":"Buying"}),n.jsx("div",{className:"col-span-1 pl-3",children:"Total"})]}),n.jsx(xt,{className:"h-72 w-full rounded-md border",children:n.jsx("div",{className:"grid grid-cols-4",children:t==="buy"?i.map((v,g)=>n.jsx("div",{className:"col-span-4",children:n.jsxs("div",{className:"grid grid-cols-4 text-sm",children:[n.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:parseFloat(v.price).toFixed(s.precision)}),n.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:v.base}),n.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:v.quote}),n.jsx("div",{className:"col-span-1 pl-3",children:i.slice(0,g+1).map(j=>parseFloat(j.base)).reduce((j,b)=>j+b,0).toFixed(s.precision)}),n.jsx("div",{className:"col-span-4",children:n.jsx(Tt,{})})]})},`moc_${t}_${g}`)):d.map((v,g)=>n.jsx("div",{className:"col-span-4",children:n.jsxs("div",{className:"grid grid-cols-4 text-sm",children:[n.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:parseFloat(v.price).toFixed(l.precision)}),n.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:v.base}),n.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:v.quote}),n.jsx("div",{className:"col-span-1 pl-3",children:d.slice(0,g+1).map(j=>parseFloat(j.base)).reduce((j,b)=>j+b,0).toFixed(s.precision)}),n.jsx("div",{className:"col-span-4",children:n.jsx(Tt,{})})]})},`moc_${t}_${g}`))})})]})}),n.jsx(at,{children:n.jsx(H,{onClick:()=>{m(),f(u+1)},children:"Refresh"})})]}):null]})}function zo(e){const{type:t,publicMarketHistory:a,assetAData:r,assetBData:s}=e,o=a.filter(l=>l.type===t);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-4 pl-3 text-md",children:[n.jsx("div",{className:"col-span-1",children:n.jsxs("div",{className:"grid grid-cols-1",children:[n.jsx("div",{className:"col-span-1",children:"Price"}),n.jsxs("div",{className:"col-span-1 text-sm",children:[r?r.symbol:"?","/",s?s.symbol:"?"]})]})}),n.jsx("div",{className:"col-span-1",children:n.jsxs("div",{className:"grid grid-cols-1",children:[n.jsx("div",{className:"col-span-1",children:"Amount"}),n.jsx("div",{className:"col-span-1 text-sm",children:r?r.symbol:"?"})]})}),n.jsx("div",{className:"col-span-1",children:n.jsxs("div",{className:"grid grid-cols-1",children:[n.jsx("div",{className:"col-span-1",children:"Date"}),n.jsx("div",{className:"col-span-1 text-sm",children:"Time since trade"})]})}),n.jsx("div",{className:"col-span-1",children:n.jsxs("div",{className:"grid grid-cols-1",children:[n.jsx("div",{className:"col-span-1",children:"Total value"}),n.jsx("div",{className:"col-span-1 text-sm",children:s?s.symbol:"?"})]})})]}),n.jsx(xt,{className:"h-72 w-full rounded-md border",children:n.jsx("div",{className:"grid grid-cols-4",children:o.map((l,i)=>{const d=l.price.split("."),c=r&&s&&d.length>1?Ee(l.price,t==="buy"?r.precision:s.precision):l.price;return n.jsx("div",{className:"col-span-4",children:n.jsxs("div",{className:"grid grid-cols-4 text-sm",children:[n.jsx("div",{className:"col-span-1 border-r-2 border-b-2 pl-3",children:c}),n.jsx("div",{className:"col-span-1 border-r-2 border-b-2 pl-3",children:l.amount}),n.jsx("div",{className:"col-span-1 border-r-2 border-b-2 pl-3",children:$t(l.date)}),n.jsx("div",{className:"col-span-1 border-r-2 border-b-2 pl-3",children:l.value})]})},`ms_${i}_${t}`)})})})]})}function ba(e){const{type:t,publicMarketHistory:a,marketHistoryInProgress:r,reset:s,assetAData:o,assetBData:l}=e;return n.jsxs(he,{children:[n.jsxs(ve,{children:[n.jsx(pe,{children:t==="buy"?"Completed buy orders":"Completed sell orders"}),n.jsx(je,{children:t==="buy"?"Recently completed buy orders on the Bitshares DEX":"Recently completed sell orders on the Bitshares DEX"})]}),n.jsxs(we,{className:"space-y-2",children:[(!a||!a.length)&&!r?t==="buy"?n.jsx(n.Fragment,{children:"No recently completed purchases found"}):n.jsx(n.Fragment,{children:"No recently completed sales found"}):null,(!a||!a.length)&&r?n.jsxs(n.Fragment,{children:[n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"})]}):null,a&&a.length?n.jsx(zo,{type:t,publicMarketHistory:a,assetAData:o,assetBData:l}):null]}),n.jsx(at,{children:n.jsx(H,{onClick:s,children:"Refresh market trades"})})]})}function Zo(e){const{type:t,assetAData:a,assetBData:r,usrLimitOrders:s}=e,o=t==="buy"?a:r,l=s.filter(i=>limitOrder.sell_price.base.asset_id===o.id);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-3",children:[n.jsx("div",{className:"col-span-1 pl-3",children:"Price"}),n.jsx("div",{className:"col-span-1 pl-3 text-md",children:"Amount"}),n.jsx("div",{className:"col-span-1 pl-3",children:"Date"})]}),n.jsx(xt,{className:"h-72 w-full rounded-md border",children:n.jsx("div",{className:"grid grid-cols-3",children:l.length?l.map((i,d)=>{const u=i.value.split(".").length>1?Ee(i.sell_price.base.amount/i.sell_price.quote.amount,t==="buy"?a.precision:r.precision):i.price;return n.jsx("div",{className:"col-span-3",children:n.jsxs("div",{className:"grid grid-cols-4 text-sm",children:[n.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:u}),n.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:i.for_sale}),n.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:$t(i.date)}),n.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:i.value})]})},`mos_${d}_${t}`)}):n.jsx("p",{children:t==="buy"?"You have no open buy orders in this market":"You have no sell orders in this market"})})})]})}function xa(e){const{type:t,assetAData:a,assetBData:r,usrLimitOrders:s,usrHistory:o,marketHistoryInProgress:l,reset:i}=e;return n.jsxs(he,{children:[n.jsxs(ve,{children:[n.jsx(pe,{children:t==="buy"?"My open buy orders":"My open sell orders"}),n.jsx(je,{children:t==="buy"?`Your open buy limit orders for the market ${a.symbol}/${r.symbol}`:`Your open sell limit orders for the market ${a.symbol}/${r.symbol}`})]}),n.jsxs(we,{className:"space-y-2",children:[(!s||!s.length)&&!l?t==="buy"?n.jsx(n.Fragment,{children:"No open buy orders found"}):n.jsx(n.Fragment,{children:"No open sell orders found"}):null,(!s||!s.length)&&l?n.jsxs(n.Fragment,{children:[n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"})]}):null,o&&o.length&&!l?n.jsx(Zo,{type:t,assetAData:a,assetBData:r,usrLimitOrders:s}):null,o&&!o.length&&!l&&t==="buy"?"You have no open buy orders in this market":null,o&&!o.length&&!l&&t==="sell"?"You have no open sell orders in this market":null]}),n.jsx(at,{children:n.jsx(H,{onClick:i,children:"Refresh open orders"})})]})}function el(e){const{type:t,usrHistory:a,assetAData:r,assetBData:s}=e,o=a.filter(l=>l.type===t);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-4",children:[n.jsx("div",{className:"col-span-1 pl-3",children:"Price"}),n.jsx("div",{className:"col-span-1 pl-3 text-md",children:"Amount"}),n.jsx("div",{className:"col-span-1 pl-3",children:"Date"}),n.jsx("div",{className:"col-span-1 pl-3",children:"Total value"})]}),n.jsx(xt,{className:"h-72 w-full rounded-md border",children:n.jsx("div",{className:"grid grid-cols-4",children:o.map((l,i)=>{const c=l.value.split(".").length>1?Ee(l.price,t==="buy"?r.precision:s.precision):l.price;return n.jsx("div",{className:"col-span-4",children:n.jsxs("div",{className:"grid grid-cols-4 text-sm",children:[n.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:c}),n.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:l.for_sale}),n.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:$t(l.date)}),n.jsx("div",{className:"col-span-1 border-r-2 pl-3",children:l.value})]})},`mts_${i}_${t}`)})})})]})}function ya(e){const{type:t,usrHistory:a,marketHistoryInProgress:r,reset:s}=e;return n.jsxs(he,{children:[n.jsxs(ve,{children:[n.jsx(pe,{children:t==="buy"?"Completed buy orders":"Completed sell orders"}),n.jsx(je,{children:t==="buy"?"Your recently completed buy orders":"Your recently completed sell orders"})]}),n.jsxs(we,{className:"space-y-2",children:[(!a||!a.length)&&!r?t==="buy"?n.jsx(n.Fragment,{children:"No recently completed purchases found"}):n.jsx(n.Fragment,{children:"No recently completed sales found"}):null,(!a||!a.length)&&r?n.jsxs(n.Fragment,{children:[n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"}),n.jsx(w,{className:"h-4 w-full mt-1"})]}):null,a&&a.length?n.jsx(el,{type:t,usrHistory:a,assetAData,assetBData}):null]}),n.jsx(at,{children:n.jsx(H,{onClick:s,children:"Refresh my open orders"})})]})}function tl(e){const{activeLimitCard:t,assetAData:a,assetBData:r,usr:s,marketItr:o,setMarketItr:l,usrLimitOrders:i,usrHistory:d,publicMarketHistory:c,_resetMarketData:u}=e,[f,m]=h.useState(!1);h.useEffect(()=>{c&&m(!1)},[c]);const[v,g]=h.useState("marketTrades"),[j,b]=h.useState("buy"),[C,M]=h.useState("buy"),[D,F]=h.useState("buy"),O={backgroundColor:"#252526",color:"white"};return n.jsx(n.Fragment,{children:n.jsx("div",{className:"grid grid-cols-1 mt-5",children:n.jsxs(Ve,{defaultValue:"marketTrades",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-3 gap-2",children:[v==="marketTrades"?n.jsx(P,{value:"marketTrades",style:O,children:"Market trades"}):n.jsx(P,{value:"marketTrades",onClick:()=>g("marketTrades"),children:"Market trades"}),v==="usrHistory"?n.jsx(P,{value:"usrHistory",style:O,children:"Your trades"}):n.jsx(P,{value:"usrHistory",onClick:()=>g("usrHistory"),children:"Your trades"}),v==="usrLimitOrders"?n.jsx(P,{value:"usrLimitOrders",style:O,children:"Your open orders"}):n.jsx(P,{value:"usrLimitOrders",onClick:()=>g("usrLimitOrders"),children:"Your open orders"})]}),n.jsx(ae,{value:"marketTrades",children:n.jsxs(Ve,{defaultValue:"buy",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2 gap-2",children:[j==="buy"?n.jsx(P,{value:"buy",style:O,children:"Buy orders"}):n.jsx(P,{value:"buy",onClick:()=>b("buy"),children:"Buy orders"}),j==="sell"?n.jsx(P,{value:"sell",style:O,children:"Sell orders"}):n.jsx(P,{value:"sell",onClick:()=>b("sell"),children:"Sell orders"})]}),n.jsx(ae,{value:"buy",children:n.jsx(ba,{type:"buy",publicMarketHistory:c,marketHistoryInProgress:f,reset:()=>{u(),m(!0),l(o+1)},assetAData:a,assetBData:r})}),n.jsx(ae,{value:"sell",children:n.jsx(ba,{type:"sell",publicMarketHistory:c,marketHistoryInProgress:f,reset:()=>{u(),m(!0),l(o+1)},assetAData:a,assetBData:r})})]})}),n.jsx(ae,{value:"usrHistory",children:n.jsxs(Ve,{defaultValue:"buy",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2 gap-2",children:[C==="buy"?n.jsx(P,{value:"buy",style:O,children:"Your purchases"}):n.jsx(P,{value:"buy",onClick:()=>M("buy"),children:"Your purchases"}),C==="sell"?n.jsx(P,{value:"sell",style:O,children:"Your sales"}):n.jsx(P,{value:"sell",onClick:()=>M("sell"),children:"Your sales"})]}),n.jsx(ae,{value:"buy",children:n.jsx(ya,{type:"buy",usrHistory:d,marketHistoryInProgress:f,reset:()=>{u(),m(!0),l(o+1)}})}),n.jsx(ae,{value:"sell",children:n.jsx(ya,{type:"sell",usrHistory:d,marketHistoryInProgress:f,reset:()=>{u(),m(!0),l(o+1)}})})]})}),n.jsx(ae,{value:"usrLimitOrders",children:n.jsxs(Ve,{defaultValue:"buy",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2 gap-2",children:[D==="buy"?n.jsx(P,{value:"buy",style:O,children:"Your buy orders"}):n.jsx(P,{value:"buy",onClick:()=>F("buy"),children:"Your buy orders"}),D==="sell"?n.jsx(P,{value:"sell",style:O,children:"Your sell orders"}):n.jsx(P,{value:"sell",onClick:()=>F("sell"),children:"Your sell orders"})]}),n.jsx(ae,{value:"buy",children:n.jsx(xa,{type:"buy",assetAData:a,assetBData:r,usrLimitOrders:i,usrHistory:d,marketHistoryInProgress:f,reset:()=>{u(),m(!0),l(o+1)}})}),n.jsx(ae,{value:"sell",children:n.jsx(xa,{type:"sell",assetAData:a,assetBData:r,usrLimitOrders:i,usrHistory:d,marketHistoryInProgress:f,reset:()=>{u(),m(!0),l(o+1)}})})]})})]})})})}function dl(e){const t=h.useSyncExternalStore(Vt.subscribe,Vt.get,()=>!0),a=h.useSyncExternalStore(Xt.subscribe,Xt.get,()=>!0),r=h.useSyncExternalStore(Gt.subscribe,Gt.get,()=>!0),s=h.useSyncExternalStore(Qt.subscribe,Qt.get,()=>!0),[o,l]=h.useState(0);h.useEffect(()=>{if(s&&s.parameters){const ee=s.parameters.current_fees.parameters.find(fe=>fe[0]===1);l(_a(ee[1].fee,5))}},[s]),gr(t&&t.chain?t.chain:"bitshares");const[i,d]=h.useState(window.location.search?null:"BTS"),[c,u]=h.useState(window.location.search?null:"USD");h.useEffect(()=>{async function Q(){if(window.location.search){console.log("Parsing market parameters");const ee=new URLSearchParams(window.location.search),ct=Object.fromEntries(ee.entries()).market;let te=ct.split("_")[0].toUpperCase(),oe=ct.split("_")[1].toUpperCase();te&&oe&&oe.length&&te===oe&&(oe=te==="BTS"?"USD":"BTS",console.log("Invalid market parameters - replaced quote asset."));const dt=r.map(me=>me.s),ut=r.map(me=>me.id);if((!te||!te.length||!dt.includes(te)&&!ut.includes(te))&&(console.log("Asset A replaced with default."),d("BTS")),!i){const me=r.find(Ze=>Ze.id===te||Ze.s===te);me?(console.log("Setting asset A."),d(me.s)):(console.log("Setting default asset A"),d("BTS"))}if((!oe||!oe.length||!dt.includes(oe)&&!ut.includes(oe))&&(console.log("Asset B replaced with default."),u(i!=="USD"?"USD":"BTS")),!c){const me=r.find(Ze=>Ze.id===oe||Ze.s===oe);if(me){console.log("Setting asset B."),u(me.s);return}else console.log("Setting default asset B"),u(te!=="BTS"&&te!=="1.3.0"?"BTS":"USD")}}}r&&r.length&&Q()},[r]);const[f,m]=h.useState([]),[v,g]=h.useState([]),[j,b]=h.useState(0),[C,M]=h.useState(!1),[D,F]=h.useState(null),[O,I]=h.useState(null),[J,X]=h.useState(null),[ne,A]=h.useState(null),[ke,_e]=h.useState(null),[Ye,De]=h.useState(null),[B,G]=h.useState(),[x,y]=h.useState(),[Ce,Me]=h.useState(),[Te,Ke]=h.useState(),[R,Ue]=h.useState(),[He,ue]=h.useState(0),[Y,T]=h.useState("buy"),[_,W]=h.useState("buy");function V(){F(null),X(null),_e(null)}function $(){I(null),A(null),De(null)}function U(){m(),g()}function se(){G(),y(),Me(),Ke(),Ue()}h.useEffect(()=>{async function Q(){const ee=await fetch(`http://localhost:8080/api/orderBook/${t.chain}/${i}/${c}`,{method:"GET"});if(!ee.ok){console.log("Failed to fetch market orders"),M(!1),j<5&&b(j+1);return}const fe=await ee.json();fe&&fe.result&&(console.log(`Fetched market data for ${i}_${c}`),m(fe.result.asks),g(fe.result.bids)),M(!1)}i&&c&&t&&t.chain&&(M(!0),window.history.replaceState({},"",`?market=${i}_${c}`),Q())},[i,c,t,j]),h.useEffect(()=>{if(i&&t&&t.chain){if(V(),se(),!a||!a.length){ft(t.chain,i,F);return}const Q=a.find(ee=>ee.s===i);if(!Q){ft(t.chain,i,F);return}console.log("Retrieved asset A from cache"),F(Q)}},[i,t]),h.useEffect(()=>{if(c&&t&&t.chain){if($(),se(),!a||!a.length){ft(t.chain,c,I);return}const Q=a.find(ee=>ee.s===c);if(!Q){ft(t.chain,c,I);return}console.log("Retrieved asset B from cache"),I(Q)}},[c,t]),h.useEffect(()=>{D&&t&&t.chain&&(aa(t.chain,D.id,X),D.bitasset_data_id&&ra(t.chain,D.bitasset_data_id,_e))},[D]),h.useEffect(()=>{O&&t&&t.chain&&(aa(t.chain,O.id,A),O.bitasset_data_id&&ra(t.chain,O.bitasset_data_id,De))},[O]),h.useEffect(()=>{async function Q(){console.log("Fetching market history");const ee=await fetch(`http://localhost:8080/api/getMarketHistory/${t.chain}/${D.id}/${O.id}/${t.id}`,{method:"GET"});if(!ee.ok){console.log("Failed to fetch market history"),setTimeout(()=>{ue(He+1)},2e3);return}const fe=await ee.json();if(fe&&fe.result){console.log("Fetched market history");const{result:ct}=fe,{balances:te,marketHistory:oe,accountLimitOrders:dt,usrTrades:ut,ticker:me}=ct;G(te),y(dt),Ke(oe),Me(ut),Ue(me)}}D&&O&&Q()},[D,O,t,He]),h.useEffect(()=>{if(i&&c&&t&&t.chain){const Q=setInterval(()=>{ue(He+1),b(j+1)},3e4);return()=>clearInterval(Q)}},[i,c,t]);const ze={backgroundColor:"#252526",color:"white"};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"container mx-auto mt-5 mb-5",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[n.jsxs("div",{className:"col-span-1",children:[n.jsxs(Ve,{defaultValue:"buy",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2 gap-2",children:[!D||!O?n.jsxs(n.Fragment,{children:[n.jsx(P,{disabled:!0,value:"buy",style:ze,children:"Buy"}),n.jsx(P,{disabled:!0,value:"sell",children:"Sell"})]}):null,D&&O&&Y==="buy"?n.jsxs(n.Fragment,{children:[n.jsx(P,{value:"buy",style:ze,children:"Buy"}),n.jsx(P,{value:"sell",onClick:()=>T("sell"),children:"Sell"})]}):null,D&&O&&Y==="sell"?n.jsxs(n.Fragment,{children:[n.jsx(P,{value:"buy",onClick:()=>T("buy"),children:"Buy"}),n.jsx(P,{value:"sell",style:ze,children:"Sell"})]}):null]}),n.jsx(ae,{value:"buy",children:n.jsx(pa,{usr:t,thisAssetA:i,thisAssetB:c,assetAData:D,assetBData:O,buyOrders:f,sellOrders:v,usrBalances:B,orderType:"buy",marketSearch:r,fee:o},"buyLimit")}),n.jsx(ae,{value:"sell",children:n.jsx(pa,{usr:t,thisAssetA:i,thisAssetB:c,assetAData:D,assetBData:O,buyOrders:f,sellOrders:v,usrBalances:B,orderType:"sell",marketSearch:r,fee:o},"sellLimit")})]}),n.jsxs(Jt,{children:[n.jsx(Kt,{asChild:!0,style:{position:"relative"},children:n.jsxs(he,{className:"mt-5",children:[n.jsxs(ve,{className:"pt-4 pb-2",children:[n.jsx(pe,{children:"Market summary"}),n.jsxs(je,{className:"text-lg",children:[Y==="buy"?`${i}/${c}`:null,Y==="sell"?`${c}/${i}`:null]})]}),n.jsx(we,{className:"text-sm pb-4",children:n.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[n.jsxs("div",{className:"grid grid-cols-5",children:[n.jsx("div",{className:"col-span-2",children:"Latest price:"}),n.jsx("div",{className:"col-span-3",children:n.jsx(re,{variant:"outline",className:"ml-2 mb-1",children:R&&D?Ee(R.latest,D.precision):"?"})})]}),n.jsxs("div",{className:"grid grid-cols-5",children:[n.jsx("div",{className:"col-span-2",children:"24Hr change:"}),n.jsx("div",{className:"col-span-3",children:n.jsx(re,{variant:"outline",className:"ml-2 mb-1",children:R?R.percent_change:"?"})})]}),n.jsxs("div",{className:"grid grid-cols-5",children:[n.jsx("div",{className:"col-span-2",children:"24Hr base volume:"}),n.jsx("div",{className:"col-span-3",children:n.jsxs(re,{variant:"outline",className:"ml-2 mb-1",children:[R?null:"?",Y==="buy"&&R?R.base_volume:null,Y==="sell"&&R?R.quote_volume:null]})})]}),n.jsxs("div",{className:"grid grid-cols-5",children:[n.jsx("div",{className:"col-span-2",children:"24Hr quote volume:"}),n.jsx("div",{className:"col-span-3",children:n.jsxs(re,{variant:"outline",className:"ml-2 mb-1",children:[R?null:"?",Y==="buy"&&R?R.quote_volume:null,Y==="sell"&&R?R.base_volume:null]})})]}),n.jsxs("div",{className:"grid grid-cols-5",children:[n.jsx("div",{className:"col-span-2",children:"Lowest ask:"}),n.jsx("div",{className:"col-span-3",children:n.jsx(re,{variant:"outline",className:"ml-2 mb-1",children:R&&D?Ee(R.lowest_ask,D.precision):"?"})})]}),n.jsxs("div",{className:"grid grid-cols-5",children:[n.jsx("div",{className:"col-span-2",children:"Highest bid:"}),n.jsx("div",{className:"col-span-3",children:n.jsx(re,{variant:"outline",className:"ml-2",children:R&&D?Ee(R.highest_bid,D.precision):"?"})})]})]})})]})}),n.jsxs(zt,{className:"w-80 text-sm text-center",children:[n.jsxs("b",{children:[i,"/",c," External market links"]}),n.jsx("br",{}),n.jsx("a",{href:t.chain==="bitshares"?`https://blocksights.info/#/markets/${Y==="buy"?i:c}/${Y==="buy"?c:i}`:`https://blocksights.info/#/markets/${Y==="buy"?i:c}/${Y==="buy"?c:i}?network=testnet`,target:"_blank",children:n.jsx(H,{variant:"outline",className:"mb-2 mt-2",children:" Blocksights market explorer"})}),t.chain==="bitshares"?n.jsxs(n.Fragment,{children:[n.jsx("a",{href:Y==="buy"?`https://bts.exchange/#/market/${i}_${c}?r=nftprofessional1`:`https://bts.exchange/#/market/${c}_${i}?r=nftprofessional1`,target:"_blank",children:n.jsx(H,{variant:"outline",className:"ml-2",children:" BTS.Exchange"})}),n.jsx("a",{href:Y==="buy"?`https://wallet.btwty.com/market/${i}_${c}?r=nftprofessional1`:`https://wallet.btwty.com/market/${c}_${i}?r=nftprofessional1`,target:"_blank",children:n.jsx(H,{variant:"outline",className:"ml-2",children:" BTWTY"})}),n.jsx("a",{href:Y==="buy"?`https://ex.xbts.io/market/${i}_${c}?r=nftprofessional1`:`https://ex.xbts.io/market/${c}_${i}?r=nftprofessional1`,target:"_blank",children:n.jsx(H,{variant:"outline",className:"ml-2 mt-2",children:" XBTS"})})]}):null]})]})]}),n.jsx("div",{className:"col-span-1",children:n.jsxs("div",{className:"grid grid-cols-1 gap-y-2",children:[n.jsx("div",{className:"flex-grow",children:n.jsxs(he,{children:[n.jsx(ve,{className:"pt-2 pb-2",children:n.jsxs(pe,{className:"text-center text-lg",children:[t.chain==="bitshares"?"Bitshares":"Bitshares (Testnet)"," ","DEX Market controls"]})}),n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[n.jsx(oa,{assetSymbol:i,assetData:D,storeCallback:d,otherAsset:c,marketSearch:r,type:Y==="buy"?"quote":"base",size:"small"}),n.jsxs(Jt,{children:[n.jsx(Kt,{asChild:!0,style:{position:"relative"},children:n.jsx(H,{variant:"outline",className:"h-5 ml-1 mr-1 p-3",onClick:()=>{V(),$(),U(),se();const Q=i;d(c),u(Q)},children:""})}),n.jsx(zt,{className:"w-40 text-md text-center",children:"Swap asset order"})]}),n.jsx(oa,{assetSymbol:c,assetData:O,storeCallback:u,otherAsset:i,marketSearch:r,type:Y==="sell"?"quote":"base",size:"small"})]})})]})}),n.jsx("div",{className:"flex-grow",style:{paddingBottom:"0px"},children:J?n.jsx(na,{asset:i,assetData:D,assetDetails:J,bitassetData:ke,marketSearch:r,chain:t.chain,usrBalances:B,type:Y==="buy"?"buy":"sell"}):n.jsxs(he,{children:[n.jsxs(ve,{className:"pb-2 pt-4",children:[n.jsx(pe,{children:Y==="buy"?"Quote asset":"Base asset"}),n.jsx(je,{className:"text-lg",children:"Loading..."})]}),n.jsx(we,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(w,{className:"h-4 w-[250px]"}),n.jsx(w,{className:"h-4 w-[200px]"}),n.jsx(w,{className:"h-4 w-[250px]"}),n.jsx(w,{className:"h-4 w-[200px]"})]})})]})}),n.jsx("div",{className:"flex-grow",children:ne?n.jsx(na,{asset:c,assetData:O,assetDetails:ne,bitassetData:Ye,marketSearch:r,chain:t.chain,usrBalances:B,type:Y==="sell"?"buy":"sell"}):n.jsxs(he,{children:[n.jsxs(ve,{className:"pb-2 pt-4",children:[n.jsx(pe,{children:Y==="sell"?"Base asset":"Quote asset"}),n.jsx(je,{className:"text-lg",children:"Loading..."})]}),n.jsx(we,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(w,{className:"h-4 w-[250px]"}),n.jsx(w,{className:"h-4 w-[200px]"}),n.jsx(w,{className:"h-4 w-[250px]"}),n.jsx(w,{className:"h-4 w-[200px]"})]})})]})})]})})]}),i&&c&&D&&O?n.jsx(yr,{assetA:i,assetAData:D,assetB:c,assetBData:O}):null,n.jsx("div",{className:"grid grid-cols-1 gap-5 mt-5",children:D&&O?n.jsx(n.Fragment,{children:n.jsxs(Ve,{defaultValue:"buy",className:"w-full",children:[n.jsxs(Xe,{className:"grid w-full grid-cols-2 gap-1",children:[_==="buy"?n.jsx(P,{value:"buy",style:ze,children:"Buy"}):n.jsx(P,{value:"buy",onClick:()=>W("buy"),children:"Buy"}),_==="sell"?n.jsx(P,{value:"sell",style:ze,children:"Sell"}):n.jsx(P,{value:"sell",onClick:()=>W("sell"),children:"Sell"})]}),n.jsx(ae,{value:"buy",children:n.jsx(ga,{cardType:"buy",activeLimitCard:Y,assetA:i,assetAData:D,assetB:c,assetBData:O,buyOrders:f,sellOrders:v,marketInProgress:C,orderBookItr:j,setOrderBookItr:b,_resetOrders:U})}),n.jsx(ae,{value:"sell",children:n.jsx(ga,{cardType:"sell",activeLimitCard:Y,assetA:i,assetAData:D,assetB:c,assetBData:O,buyOrders:f,sellOrders:v,marketInProgress:C,orderBookItr:j,setOrderBookItr:b,_resetOrders:U})})]})}):null}),i&&c?n.jsx(tl,{activeLimitCard:Y,assetAData:D,assetBData:O,usr:t,marketItr:He,setMarketItr:ue,usrLimitOrders:x,publicMarketHistory:Te,usrHistory:Ce,_resetMarketData:se}):null]}),t&&t.username&&t.username.length?n.jsx(br,{usr:t}):null," "]})}export{dl as default};
