import{d as Er,s as Sr,a as br,u as mr,l as pr,j as t,i as xr,c as Ar}from"./utils.f2cWa0M5.js";import{r as E}from"./index.sXsv9c-e.js";import{u as vr,F as _r,a as de,b as he,c as me,d as pe,e as xe,f as Ue}from"./form.lZWYRzQu.js";import{D as Je,e as Ve,a as He,b as Ye,c as Qe,d as Ke,C as Dr}from"./dialog.syK3Ff39.js";import{F as Xe}from"./index.esm.MzjYIzP_.js";import{d as $e,e as yr,h as ve,f as kr}from"./common.hInvFuHt.js";import{c as Tr,e as Br}from"./User.zQvnfFk2.js";import{n as Pr,u as Ir,$ as er,a as rr,d as tr,e as sr,h as ir,i as nr}from"./Init.DukeMtId.js";import{C as De,a as ye,b as ke,c as Te,$ as lr,d as ar}from"./users.jrnbX0_8.js";import{S as Rr,a as Fr,b as Mr,c as Lr,d as Ce}from"./select.jGoYDpMA.js";import{A as $r}from"./Avatar.ayrde5G3.js";import{L as Ae,D as Ur}from"./DeepLinkDialog.hhX-uqsX.js";import{E as or}from"./ExternalLink.iv_ddFeE.js";import{A as qr}from"./AssetDropDownCard.flG_4BHo.js";import{F as Gr}from"./fuse.aCsZfKX4.js";import"./hover-card.rVxnnVoR.js";import{A as cr,a as fr}from"./avatar.6-Vbudo0.js";import{I as te}from"./input.hzHoVlAt.js";import{B as le}from"./button.a7-WOX-8.js";import{a as zr}from"./separator.9HM3yyc1.js";import{P as Be,a as Pe,b as Ie}from"./popover.kIDkAdw4.js";import{A as Jr}from"./AccountSearch.exc97cXs.js";import{f as Vr,C as Hr}from"./calendar.mJNSp4Mn.js";import{S as Xr}from"./scroll-area.1An-4fTu.js";import"./index.LDFW_GCY.js";import"./index.QjywInIh.js";import"./index.x6Fbg0gz.js";import"./index.u8nr6ruA.js";import"./index.f2GGseSc.js";import"./index.reIbhit3.js";import"./index.lLhWZhZj.js";var Wr=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,qe=Math.ceil,ae=Math.floor,ee="[BigNumber Error] ",ur=ee+"Number primitive has more than 15 significant digits: ",ge=1e14,S=14,Ge=9007199254740991,ze=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Ee=1e7,H=1e9;function gr(e){var r,t,s,n,i,a=E.prototype={constructor:E,toString:null,valueOf:null},l=new E(1),o=20,c=4,d=-7,f=21,u=-1e7,h=1e7,m=!1,p=1,x=0,g={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},j="0123456789abcdefghijklmnopqrstuvwxyz",b=!0;function E(e,r){var n,i,a,l,d,f,m,p,x=this;if(!(x instanceof E))return new E(e,r);if(null==r){if(e&&!0===e._isBigNumber)return x.s=e.s,void(!e.c||e.e>h?x.c=x.e=null:e.e<u?x.c=[x.e=0]:(x.e=e.e,x.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(x.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,d=e;d>=10;d/=10,l++);return void(l>h?x.c=x.e=null:(x.e=l,x.c=[e]))}p=String(e)}else{if(!Wr.test(p=String(e)))return s(x,p,f);x.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(l=p.indexOf("."))>-1&&(p=p.replace(".","")),(d=p.search(/e/i))>0?(l<0&&(l=d),l+=+p.slice(d+1),p=p.substring(0,d)):l<0&&(l=p.length)}else{if(F(r,2,j.length,"Base"),10==r&&b)return C(x=new E(e),o+x.e+1,c);if(p=String(e),f="number"==typeof e){if(0*e!=0)return s(x,p,f,r);if(x.s=1/e<0?(p=p.slice(1),-1):1,E.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(ur+e)}else x.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=j.slice(0,r),l=d=0,m=p.length;d<m;d++)if(n.indexOf(i=p.charAt(d))<0){if("."==i){if(d>l){l=m;continue}}else if(!a&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){a=!0,d=-1,l=0;continue}return s(x,String(e),f,r)}f=!1,(l=(p=t(p,r,10,x.s)).indexOf("."))>-1?p=p.replace(".",""):l=p.length}for(d=0;48===p.charCodeAt(d);d++);for(m=p.length;48===p.charCodeAt(--m););if(p=p.slice(d,++m)){if(m-=d,f&&E.DEBUG&&m>15&&(e>Ge||e!==ae(e)))throw Error(ur+x.s*e);if((l=l-d-1)>h)x.c=x.e=null;else if(l<u)x.c=[x.e=0];else{if(x.e=l,x.c=[],d=(l+1)%S,l<0&&(d+=S),d<m){for(d&&x.c.push(+p.slice(0,d)),m-=S;d<m;)x.c.push(+p.slice(d,d+=S));d=S-(p=p.slice(d)).length}else d-=m;for(;d--;p+="0");x.c.push(+p)}}else x.c=[x.e=0]}function N(e,r,t,s){var n,i,a,l,o;if(null==t?t=c:F(t,0,8),!e.c)return e.toString();if(n=e.c[0],a=e.e,null==r)o=ne(e.c),o=1==s||2==s&&(a<=d||a>=f)?Me(o,a):Ne(o,a,"0");else if(i=(e=C(new E(e),r,t)).e,l=(o=ne(e.c)).length,1==s||2==s&&(r<=i||i<=d)){for(;l<r;o+="0",l++);o=Me(o,i)}else if(r-=a,o=Ne(o,i,"0"),i+1>l){if(--r>0)for(o+=".";r--;o+="0");}else if((r+=i-l)>0)for(i+1==l&&(o+=".");r--;o+="0");return e.s<0&&n?"-"+o:o}function v(e,r){for(var t,s,n=1,i=new E(e[0]);n<e.length;n++)(!(s=new E(e[n])).s||(t=be(i,s))===r||0===t&&i.s===r)&&(i=s);return i}function w(e,r,t){for(var s=1,n=r.length;!r[--n];r.pop());for(n=r[0];n>=10;n/=10,s++);return(t=s+t*S-1)>h?e.c=e.e=null:t<u?e.c=[e.e=0]:(e.e=t,e.c=r),e}function C(e,r,t,s){var n,i,a,l,o,c,d,f=e.c,m=ze;if(f){e:{for(n=1,l=f[0];l>=10;l/=10,n++);if((i=r-n)<0)i+=S,a=r,o=f[c=0],d=ae(o/m[n-a-1]%10);else if((c=qe((i+1)/S))>=f.length){if(!s)break e;for(;f.length<=c;f.push(0));o=d=0,n=1,a=(i%=S)-S+1}else{for(o=l=f[c],n=1;l>=10;l/=10,n++);d=(a=(i%=S)-S+n)<0?0:ae(o/m[n-a-1]%10)}if(s=s||r<0||null!=f[c+1]||(a<0?o:o%m[n-a-1]),s=t<4?(d||s)&&(0==t||t==(e.s<0?3:2)):d>5||5==d&&(4==t||s||6==t&&(i>0?a>0?o/m[n-a]:0:f[c-1])%10&1||t==(e.s<0?8:7)),r<1||!f[0])return f.length=0,s?(r-=e.e+1,f[0]=m[(S-r%S)%S],e.e=-r||0):f[0]=e.e=0,e;if(0==i?(f.length=c,l=1,c--):(f.length=c+1,l=m[S-i],f[c]=a>0?ae(o/m[n-a]%m[a])*l:0),s)for(;;){if(0==c){for(i=1,a=f[0];a>=10;a/=10,i++);for(a=f[0]+=l,l=1;a>=10;a/=10,l++);i!=l&&(e.e++,f[0]==ge&&(f[0]=1));break}if(f[c]+=l,f[c]!=ge)break;f[c--]=0,l=1}for(i=f.length;0===f[--i];f.pop());}e.e>h?e.c=e.e=null:e.e<u&&(e.c=[e.e=0])}return e}function O(e){var r,t=e.e;return null===t?e.toString():(r=ne(e.c),r=t<=d||t>=f?Me(r,t):Ne(r,t,"0"),e.s<0?"-"+r:r)}return E.clone=gr,E.ROUND_UP=0,E.ROUND_DOWN=1,E.ROUND_CEIL=2,E.ROUND_FLOOR=3,E.ROUND_HALF_UP=4,E.ROUND_HALF_DOWN=5,E.ROUND_HALF_EVEN=6,E.ROUND_HALF_CEIL=7,E.ROUND_HALF_FLOOR=8,E.EUCLID=9,E.config=E.set=function(e){var r,t;if(null!=e){if("object"!=typeof e)throw Error(ee+"Object expected: "+e);if(e.hasOwnProperty(r="DECIMAL_PLACES")&&(F(t=e[r],0,H,r),o=t),e.hasOwnProperty(r="ROUNDING_MODE")&&(F(t=e[r],0,8,r),c=t),e.hasOwnProperty(r="EXPONENTIAL_AT")&&((t=e[r])&&t.pop?(F(t[0],-H,0,r),F(t[1],0,H,r),d=t[0],f=t[1]):(F(t,-H,H,r),d=-(f=t<0?-t:t))),e.hasOwnProperty(r="RANGE"))if((t=e[r])&&t.pop)F(t[0],-H,-1,r),F(t[1],1,H,r),u=t[0],h=t[1];else{if(F(t,-H,H,r),!t)throw Error(ee+r+" cannot be zero: "+t);u=-(h=t<0?-t:t)}if(e.hasOwnProperty(r="CRYPTO")){if((t=e[r])!==!!t)throw Error(ee+r+" not true or false: "+t);if(t){if(!(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)))throw m=!t,Error(ee+"crypto unavailable");m=t}else m=t}if(e.hasOwnProperty(r="MODULO_MODE")&&(F(t=e[r],0,9,r),p=t),e.hasOwnProperty(r="POW_PRECISION")&&(F(t=e[r],0,H,r),x=t),e.hasOwnProperty(r="FORMAT")){if("object"!=typeof(t=e[r]))throw Error(ee+r+" not an object: "+t);g=t}if(e.hasOwnProperty(r="ALPHABET")){if("string"!=typeof(t=e[r])||/^.?$|[+\-.\s]|(.).*\1/.test(t))throw Error(ee+r+" invalid: "+t);b="0123456789"==t.slice(0,10),j=t}}return{DECIMAL_PLACES:o,ROUNDING_MODE:c,EXPONENTIAL_AT:[d,f],RANGE:[u,h],CRYPTO:m,MODULO_MODE:p,POW_PRECISION:x,FORMAT:g,ALPHABET:j}},E.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!E.DEBUG)return!0;var r,t,s=e.c,n=e.e,i=e.s;e:if("[object Array]"=={}.toString.call(s)){if((1===i||-1===i)&&n>=-H&&n<=H&&n===ae(n)){if(0===s[0]){if(0===n&&1===s.length)return!0;break e}if((r=(n+1)%S)<1&&(r+=S),String(s[0]).length==r){for(r=0;r<s.length;r++)if((t=s[r])<0||t>=ge||t!==ae(t))break e;if(0!==t)return!0}}}else if(null===s&&null===n&&(null===i||1===i||-1===i))return!0;throw Error(ee+"Invalid BigNumber: "+e)},E.maximum=E.max=function(){return v(arguments,-1)},E.minimum=E.min=function(){return v(arguments,1)},E.random=(n=9007199254740992,i=Math.random()*n&2097151?function(){return ae(Math.random()*n)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var r,t,s,n,a,c=0,d=[],f=new E(l);if(null==e?e=o:F(e,0,H),n=qe(e/S),m)if(crypto.getRandomValues){for(r=crypto.getRandomValues(new Uint32Array(n*=2));c<n;)(a=131072*r[c]+(r[c+1]>>>11))>=9e15?(t=crypto.getRandomValues(new Uint32Array(2)),r[c]=t[0],r[c+1]=t[1]):(d.push(a%1e14),c+=2);c=n/2}else{if(!crypto.randomBytes)throw m=!1,Error(ee+"crypto unavailable");for(r=crypto.randomBytes(n*=7);c<n;)(a=281474976710656*(31&r[c])+1099511627776*r[c+1]+4294967296*r[c+2]+16777216*r[c+3]+(r[c+4]<<16)+(r[c+5]<<8)+r[c+6])>=9e15?crypto.randomBytes(7).copy(r,c):(d.push(a%1e14),c+=7);c=n/7}if(!m)for(;c<n;)(a=i())<9e15&&(d[c++]=a%1e14);for(n=d[--c],e%=S,n&&e&&(a=ze[S-e],d[c]=ae(n/a)*a);0===d[c];d.pop(),c--);if(c<0)d=[s=0];else{for(s=-1;0===d[0];d.splice(0,1),s-=S);for(c=1,a=d[0];a>=10;a/=10,c++);c<S&&(s-=S-c)}return f.e=s,f.c=d,f}),E.sum=function(){for(var e=1,r=arguments,t=new E(r[0]);e<r.length;)t=t.plus(r[e++]);return t},t=function(){var e="0123456789";function t(e,r,t,s){for(var n,i,a=[0],l=0,o=e.length;l<o;){for(i=a.length;i--;a[i]*=r);for(a[0]+=s.indexOf(e.charAt(l++)),n=0;n<a.length;n++)a[n]>t-1&&(null==a[n+1]&&(a[n+1]=0),a[n+1]+=a[n]/t|0,a[n]%=t)}return a.reverse()}return function(s,n,i,a,l){var d,f,u,h,m,p,g,b,N=s.indexOf("."),v=o,w=c;for(N>=0&&(h=x,x=0,s=s.replace(".",""),p=(b=new E(n)).pow(s.length-N),x=h,b.c=t(Ne(ne(p.c),p.e,"0"),10,i,e),b.e=b.c.length),u=h=(g=t(s,n,i,l?(d=j,e):(d=e,j))).length;0==g[--h];g.pop());if(!g[0])return d.charAt(0);if(N<0?--u:(p.c=g,p.e=u,p.s=a,g=(p=r(p,b,v,w,i)).c,m=p.r,u=p.e),N=g[f=u+v+1],h=i/2,m=m||f<0||null!=g[f+1],m=w<4?(null!=N||m)&&(0==w||w==(p.s<0?3:2)):N>h||N==h&&(4==w||m||6==w&&1&g[f-1]||w==(p.s<0?8:7)),f<1||!g[0])s=m?Ne(d.charAt(1),-v,d.charAt(0)):d.charAt(0);else{if(g.length=f,m)for(--i;++g[--f]>i;)g[f]=0,f||(++u,g=[1].concat(g));for(h=g.length;!g[--h];);for(N=0,s="";N<=h;s+=d.charAt(g[N++]));s=Ne(s,u,d.charAt(0))}return s}}(),r=function(){function e(e,r,t){var s,n,i,a,l=0,o=e.length,c=r%Ee,d=r/Ee|0;for(e=e.slice();o--;)l=((n=c*(i=e[o]%Ee)+(s=d*i+(a=e[o]/Ee|0)*c)%Ee*Ee+l)/t|0)+(s/Ee|0)+d*a,e[o]=n%t;return l&&(e=[l].concat(e)),e}function r(e,r,t,s){var n,i;if(t!=s)i=t>s?1:-1;else for(n=i=0;n<t;n++)if(e[n]!=r[n]){i=e[n]>r[n]?1:-1;break}return i}function t(e,r,t,s){for(var n=0;t--;)e[t]-=n,n=e[t]<r[t]?1:0,e[t]=n*s+e[t]-r[t];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(s,n,i,a,l){var o,c,d,f,u,h,m,p,x,g,j,b,N,v,w,O,y,A=s.s==n.s?1:-1,D=s.c,_=n.c;if(!(D&&D[0]&&_&&_[0]))return new E(s.s&&n.s&&(D?!_||D[0]!=_[0]:_)?D&&0==D[0]||!_?0*A:A/0:NaN);for(x=(p=new E(A)).c=[],A=i+(c=s.e-n.e)+1,l||(l=ge,c=oe(s.e/S)-oe(n.e/S),A=A/S|0),d=0;_[d]==(D[d]||0);d++);if(_[d]>(D[d]||0)&&c--,A<0)x.push(1),f=!0;else{for(v=D.length,O=_.length,d=0,A+=2,(u=ae(l/(_[0]+1)))>1&&(_=e(_,u,l),D=e(D,u,l),O=_.length,v=D.length),N=O,j=(g=D.slice(0,O)).length;j<O;g[j++]=0);y=_.slice(),y=[0].concat(y),w=_[0],_[1]>=l/2&&w++;do{if(u=0,(o=r(_,g,O,j))<0){if(b=g[0],O!=j&&(b=b*l+(g[1]||0)),(u=ae(b/w))>1)for(u>=l&&(u=l-1),m=(h=e(_,u,l)).length,j=g.length;1==r(h,g,m,j);)u--,t(h,O<m?y:_,m,l),m=h.length,o=1;else 0==u&&(o=u=1),m=(h=_.slice()).length;if(m<j&&(h=[0].concat(h)),t(g,h,j,l),j=g.length,-1==o)for(;r(_,g,O,j)<1;)u++,t(g,O<j?y:_,j,l),j=g.length}else 0===o&&(u++,g=[0]);x[d++]=u,g[0]?g[j++]=D[N]||0:(g=[D[N]],j=1)}while((N++<v||null!=g[0])&&A--);f=null!=g[0],x[0]||x.splice(0,1)}if(l==ge){for(d=1,A=x[0];A>=10;A/=10,d++);C(p,i+(p.e=d+c*S-1)+1,a,f)}else p.e=c,p.r=+f;return p}}(),s=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,r=/^([^.]+)\.$/,t=/^\.([^.]+)$/,s=/^-?(Infinity|NaN)$/,n=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(i,a,l,o){var c,d=l?a:a.replace(n,"");if(s.test(d))i.s=isNaN(d)?null:d<0?-1:1;else{if(!l&&(d=d.replace(e,(function(e,r,t){return c="x"==(t=t.toLowerCase())?16:"b"==t?2:8,o&&o!=c?e:r})),o&&(c=o,d=d.replace(r,"$1").replace(t,"0.$1")),a!=d))return new E(d,c);if(E.DEBUG)throw Error(ee+"Not a"+(o?" base "+o:"")+" number: "+a);i.s=null}i.c=i.e=null}}(),a.absoluteValue=a.abs=function(){var e=new E(this);return e.s<0&&(e.s=1),e},a.comparedTo=function(e,r){return be(this,new E(e,r))},a.decimalPlaces=a.dp=function(e,r){var t,s,n,i=this;if(null!=e)return F(e,0,H),null==r?r=c:F(r,0,8),C(new E(i),e+i.e+1,r);if(!(t=i.c))return null;if(s=((n=t.length-1)-oe(this.e/S))*S,n=t[n])for(;n%10==0;n/=10,s--);return s<0&&(s=0),s},a.dividedBy=a.div=function(e,t){return r(this,new E(e,t),o,c)},a.dividedToIntegerBy=a.idiv=function(e,t){return r(this,new E(e,t),0,1)},a.exponentiatedBy=a.pow=function(e,r){var t,s,n,i,a,o,d,f,u=this;if((e=new E(e)).c&&!e.isInteger())throw Error(ee+"Exponent not an integer: "+O(e));if(null!=r&&(r=new E(r)),a=e.e>14,!u.c||!u.c[0]||1==u.c[0]&&!u.e&&1==u.c.length||!e.c||!e.c[0])return f=new E(Math.pow(+O(u),a?e.s*(2-Fe(e)):+O(e))),r?f.mod(r):f;if(o=e.s<0,r){if(r.c?!r.c[0]:!r.s)return new E(NaN);(s=!o&&u.isInteger()&&r.isInteger())&&(u=u.mod(r))}else{if(e.e>9&&(u.e>0||u.e<-1||(0==u.e?u.c[0]>1||a&&u.c[1]>=24e7:u.c[0]<8e13||a&&u.c[0]<=9999975e7)))return i=u.s<0&&Fe(e)?-0:0,u.e>-1&&(i=1/i),new E(o?1/i:i);x&&(i=qe(x/S+2))}for(a?(t=new E(.5),o&&(e.s=1),d=Fe(e)):d=(n=Math.abs(+O(e)))%2,f=new E(l);;){if(d){if(!(f=f.times(u)).c)break;i?f.c.length>i&&(f.c.length=i):s&&(f=f.mod(r))}if(n){if(0===(n=ae(n/2)))break;d=n%2}else if(C(e=e.times(t),e.e+1,1),e.e>14)d=Fe(e);else{if(0===(n=+O(e)))break;d=n%2}u=u.times(u),i?u.c&&u.c.length>i&&(u.c.length=i):s&&(u=u.mod(r))}return s?f:(o&&(f=l.div(f)),r?f.mod(r):i?C(f,x,c,undefined):f)},a.integerValue=function(e){var r=new E(this);return null==e?e=c:F(e,0,8),C(r,r.e+1,e)},a.isEqualTo=a.eq=function(e,r){return 0===be(this,new E(e,r))},a.isFinite=function(){return!!this.c},a.isGreaterThan=a.gt=function(e,r){return be(this,new E(e,r))>0},a.isGreaterThanOrEqualTo=a.gte=function(e,r){return 1===(r=be(this,new E(e,r)))||0===r},a.isInteger=function(){return!!this.c&&oe(this.e/S)>this.c.length-2},a.isLessThan=a.lt=function(e,r){return be(this,new E(e,r))<0},a.isLessThanOrEqualTo=a.lte=function(e,r){return-1===(r=be(this,new E(e,r)))||0===r},a.isNaN=function(){return!this.s},a.isNegative=function(){return this.s<0},a.isPositive=function(){return this.s>0},a.isZero=function(){return!!this.c&&0==this.c[0]},a.minus=function(e,r){var t,s,n,i,a=this,l=a.s;if(r=(e=new E(e,r)).s,!l||!r)return new E(NaN);if(l!=r)return e.s=-r,a.plus(e);var o=a.e/S,d=e.e/S,f=a.c,u=e.c;if(!o||!d){if(!f||!u)return f?(e.s=-r,e):new E(u?a:NaN);if(!f[0]||!u[0])return u[0]?(e.s=-r,e):new E(f[0]?a:3==c?-0:0)}if(o=oe(o),d=oe(d),f=f.slice(),l=o-d){for((i=l<0)?(l=-l,n=f):(d=o,n=u),n.reverse(),r=l;r--;n.push(0));n.reverse()}else for(s=(i=(l=f.length)<(r=u.length))?l:r,l=r=0;r<s;r++)if(f[r]!=u[r]){i=f[r]<u[r];break}if(i&&(n=f,f=u,u=n,e.s=-e.s),(r=(s=u.length)-(t=f.length))>0)for(;r--;f[t++]=0);for(r=ge-1;s>l;){if(f[--s]<u[s]){for(t=s;t&&!f[--t];f[t]=r);--f[t],f[s]+=ge}f[s]-=u[s]}for(;0==f[0];f.splice(0,1),--d);return f[0]?w(e,f,d):(e.s=3==c?-1:1,e.c=[e.e=0],e)},a.modulo=a.mod=function(e,t){var s,n,i=this;return e=new E(e,t),!i.c||!e.s||e.c&&!e.c[0]?new E(NaN):!e.c||i.c&&!i.c[0]?new E(i):(9==p?(n=e.s,e.s=1,s=r(i,e,0,3),e.s=n,s.s*=n):s=r(i,e,0,p),!(e=i.minus(s.times(e))).c[0]&&1==p&&(e.s=i.s),e)},a.multipliedBy=a.times=function(e,r){var t,s,n,i,a,l,o,c,d,f,u,h,m,p,x,g=this,j=g.c,b=(e=new E(e,r)).c;if(!(j&&b&&j[0]&&b[0]))return!g.s||!e.s||j&&!j[0]&&!b||b&&!b[0]&&!j?e.c=e.e=e.s=null:(e.s*=g.s,j&&b?(e.c=[0],e.e=0):e.c=e.e=null),e;for(s=oe(g.e/S)+oe(e.e/S),e.s*=g.s,(o=j.length)<(f=b.length)&&(m=j,j=b,b=m,n=o,o=f,f=n),n=o+f,m=[];n--;m.push(0));for(p=ge,x=Ee,n=f;--n>=0;){for(t=0,u=b[n]%x,h=b[n]/x|0,i=n+(a=o);i>n;)t=((c=u*(c=j[--a]%x)+(l=h*c+(d=j[a]/x|0)*u)%x*x+m[i]+t)/p|0)+(l/x|0)+h*d,m[i--]=c%p;m[i]=t}return t?++s:m.splice(0,1),w(e,m,s)},a.negated=function(){var e=new E(this);return e.s=-e.s||null,e},a.plus=function(e,r){var t,s=this,n=s.s;if(r=(e=new E(e,r)).s,!n||!r)return new E(NaN);if(n!=r)return e.s=-r,s.minus(e);var i=s.e/S,a=e.e/S,l=s.c,o=e.c;if(!i||!a){if(!l||!o)return new E(n/0);if(!l[0]||!o[0])return o[0]?e:new E(l[0]?s:0*n)}if(i=oe(i),a=oe(a),l=l.slice(),n=i-a){for(n>0?(a=i,t=o):(n=-n,t=l),t.reverse();n--;t.push(0));t.reverse()}for((n=l.length)-(r=o.length)<0&&(t=o,o=l,l=t,r=n),n=0;r;)n=(l[--r]=l[r]+o[r]+n)/ge|0,l[r]=ge===l[r]?0:l[r]%ge;return n&&(l=[n].concat(l),++a),w(e,l,a)},a.precision=a.sd=function(e,r){var t,s,n,i=this;if(null!=e&&e!==!!e)return F(e,1,H),null==r?r=c:F(r,0,8),C(new E(i),e,r);if(!(t=i.c))return null;if(s=(n=t.length-1)*S+1,n=t[n]){for(;n%10==0;n/=10,s--);for(n=t[0];n>=10;n/=10,s++);}return e&&i.e+1>s&&(s=i.e+1),s},a.shiftedBy=function(e){return F(e,-Ge,Ge),this.times("1e"+e)},a.squareRoot=a.sqrt=function(){var e,t,s,n,i,a=this,l=a.c,d=a.s,f=a.e,u=o+4,h=new E("0.5");if(1!==d||!l||!l[0])return new E(!d||d<0&&(!l||l[0])?NaN:l?a:1/0);if(0==(d=Math.sqrt(+O(a)))||d==1/0?(((t=ne(l)).length+f)%2==0&&(t+="0"),d=Math.sqrt(+t),f=oe((f+1)/2)-(f<0||f%2),d==1/0?t="5e"+f:t=(t=d.toExponential()).slice(0,t.indexOf("e")+1)+f,s=new E(t)):s=new E(d+""),s.c[0])for((d=(f=s.e)+u)<3&&(d=0);;)if(i=s,s=h.times(i.plus(r(a,i,u,1))),ne(i.c).slice(0,d)===(t=ne(s.c)).slice(0,d)){if(s.e<f&&--d,"9999"!=(t=t.slice(d-3,d+1))&&(n||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(C(s,s.e+o+2,1),e=!s.times(s).eq(a));break}if(!n&&(C(i,i.e+o+2,0),i.times(i).eq(a))){s=i;break}u+=4,d+=4,n=1}return C(s,s.e+o+1,c,e)},a.toExponential=function(e,r){return null!=e&&(F(e,0,H),e++),N(this,e,r,1)},a.toFixed=function(e,r){return null!=e&&(F(e,0,H),e=e+this.e+1),N(this,e,r)},a.toFormat=function(e,r,t){var s,n=this;if(null==t)null!=e&&r&&"object"==typeof r?(t=r,r=null):e&&"object"==typeof e?(t=e,e=r=null):t=g;else if("object"!=typeof t)throw Error(ee+"Argument not an object: "+t);if(s=n.toFixed(e,r),n.c){var i,a=s.split("."),l=+t.groupSize,o=+t.secondaryGroupSize,c=t.groupSeparator||"",d=a[0],f=a[1],u=n.s<0,h=u?d.slice(1):d,m=h.length;if(o&&(i=l,l=o,o=i,m-=i),l>0&&m>0){for(i=m%l||l,d=h.substr(0,i);i<m;i+=l)d+=c+h.substr(i,l);o>0&&(d+=c+h.slice(i)),u&&(d="-"+d)}s=f?d+(t.decimalSeparator||"")+((o=+t.fractionGroupSize)?f.replace(new RegExp("\\d{"+o+"}\\B","g"),"$&"+(t.fractionGroupSeparator||"")):f):d}return(t.prefix||"")+s+(t.suffix||"")},a.toFraction=function(e){var t,s,n,i,a,o,d,f,u,m,p,x,g=this,j=g.c;if(null!=e&&(!(d=new E(e)).isInteger()&&(d.c||1!==d.s)||d.lt(l)))throw Error(ee+"Argument "+(d.isInteger()?"out of range: ":"not an integer: ")+O(d));if(!j)return new E(g);for(t=new E(l),u=s=new E(l),n=f=new E(l),x=ne(j),a=t.e=x.length-g.e-1,t.c[0]=ze[(o=a%S)<0?S+o:o],e=!e||d.comparedTo(t)>0?a>0?t:u:d,o=h,h=1/0,d=new E(x),f.c[0]=0;m=r(d,t,0,1),1!=(i=s.plus(m.times(n))).comparedTo(e);)s=n,n=i,u=f.plus(m.times(i=u)),f=i,t=d.minus(m.times(i=t)),d=i;return i=r(e.minus(s),n,0,1),f=f.plus(i.times(u)),s=s.plus(i.times(n)),f.s=u.s=g.s,p=r(u,n,a*=2,c).minus(g).abs().comparedTo(r(f,s,a,c).minus(g).abs())<1?[u,n]:[f,s],h=o,p},a.toNumber=function(){return+O(this)},a.toPrecision=function(e,r){return null!=e&&F(e,1,H),N(this,e,r,2)},a.toString=function(e){var r,s=this,n=s.s,i=s.e;return null===i?n?(r="Infinity",n<0&&(r="-"+r)):r="NaN":(null==e?r=i<=d||i>=f?Me(ne(s.c),i):Ne(ne(s.c),i,"0"):10===e&&b?r=Ne(ne((s=C(new E(s),o+i+1,c)).c),s.e,"0"):(F(e,2,j.length,"Base"),r=t(Ne(ne(s.c),i,"0"),10,e,n,!0)),n<0&&s.c[0]&&(r="-"+r)),r},a.valueOf=a.toJSON=function(){return O(this)},a._isBigNumber=!0,a[Symbol.toStringTag]="BigNumber",a[Symbol.for("nodejs.util.inspect.custom")]=a.valueOf,null!=e&&E.set(e),E}function oe(e){var r=0|e;return e>0||e===r?r:r-1}function ne(e){for(var r,t,s=1,n=e.length,i=e[0]+"";s<n;){for(r=e[s++]+"",t=S-r.length;t--;r="0"+r);i+=r}for(n=i.length;48===i.charCodeAt(--n););return i.slice(0,n+1||1)}function be(e,r){var t,s,n=e.c,i=r.c,a=e.s,l=r.s,o=e.e,c=r.e;if(!a||!l)return null;if(t=n&&!n[0],s=i&&!i[0],t||s)return t?s?0:-l:a;if(a!=l)return a;if(t=a<0,s=o==c,!n||!i)return s?0:!n^t?1:-1;if(!s)return o>c^t?1:-1;for(l=(o=n.length)<(c=i.length)?o:c,a=0;a<l;a++)if(n[a]!=i[a])return n[a]>i[a]^t?1:-1;return o==c?0:o>c^t?1:-1}function F(e,r,t,s){if(e<r||e>t||e!==ae(e))throw Error(ee+(s||"Argument")+("number"==typeof e?e<r||e>t?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function Fe(e){var r=e.c.length-1;return oe(e.e/S)==r&&e.c[r]%2!=0}function Me(e,r){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(r<0?"e":"e+")+r}function Ne(e,r,t){var s,n;if(r<0){for(n=t+".";++r;n+=t);e=n+e}else if(++r>(s=e.length)){for(n=t,r-=s;--r;n+=t);e+=n}else r<s&&(e=e.slice(0,r)+"."+e.slice(r));return e}var Zr=gr();function Yr(e,r=8){let t=e.toString(),s=t.split(".");return 1===s.length||2===s.length&&s[1].length<=r?parseFloat(t):parseFloat(s[0]+"."+s[1].substr(0,r))}function dr(e,r){return Math.round($e(e,r))}function hr(e,r,t,s,n){if(e&&"number"==typeof e){let i=dr(r,t),a=dr(s,n),l=i/a,o=a/i;i>=a?o=1:l=1,e=Yr(e,t);let c=new Zr(e.toString()).toFraction();return{base:c[0]*l,quote:c[1]*o}}if(0===e)return{base:0,quote:0}}const[Qr]=Pr({fetcher:async(e,r)=>{const t=await fetch(`http://localhost:8080/api/getObjects/${e}`,{method:"POST",body:JSON.stringify([r])});if(!t.ok)return void console.log("Failed to fetch object data");const s=await t.json();if(s&&s.result&&s.result.length){const e=Er(Sr(s.result,!0));return JSON.parse(br(e))[0]}}});function Kr(e){const{chosenAssets:r,lendingAsset:s,marketSearch:n,storeCallback:i}=e,{t:a,i18n:l}=mr(pr.get(),{i18n:xr}),o=E.useMemo((()=>new Gr(n.filter((e=>!r.find((r=>r.symbol===e.s))&&e.s!==s)),{includeScore:!0,keys:["id","s","u"]})),[r,s]),[c,d]=E.useState(),[f,u]=E.useState(),[h,m]=E.useState(!1);E.useEffect((()=>{if(c){const e=o.search(c);u(e)}}),[c,o]);return t.jsxs(Je,{open:h,onOpenChange:e=>{e||u(),m(e)},children:[s&&n?t.jsx(Ve,{asChild:!0,children:t.jsx("span",{onClick:()=>{event.preventDefault()},className:"inline-block border border-grey rounded pl-4 pb-1 pr-4 text-lg",children:t.jsx(Ae,{children:"➕ Add collateral"})})}):t.jsx(Ae,{children:"⛔ No lending asset"}),t.jsx(He,{className:"sm:max-w-[425px] bg-white",children:t.jsxs(t.Fragment,{children:[t.jsx("h3",{className:"text-2xl font-extrabold tracking-tight",children:"Which collateral asset?"}),t.jsx("h4",{className:"text-md font-bold tracking-tight",children:"Please search for a new collateral asset below"}),t.jsx(te,{name:"assetSearch",placeholder:a("AssetDropDownCard:search"),onChange:e=>{d(e.target.value)}}),f&&f.length?t.jsx(t.Fragment,{children:t.jsx(Xe,{height:200,itemCount:f.length,itemSize:70,className:"w-full",children:({index:e,style:s})=>{const n=f[e];let l=0;return t.jsx("div",{style:{...s,marginBottom:"10px",paddingRight:"10px"},children:t.jsxs(Be,{children:[t.jsx(Pe,{asChild:!0,children:t.jsx(De,{style:{marginBottom:"2px"},children:t.jsxs(ye,{className:"p-3",children:[t.jsxs(ke,{className:"h-3",children:[n.item.s," (",n.item.id,")"]}),t.jsx(Te,{children:a("AssetDropDownCard:issued",{user:n.item.u})})]})},`acard-${n.item.id}`)}),t.jsxs(Ie,{children:[t.jsxs(Ae,{children:["Provide price for ",n.item.s]}),t.jsx(te,{name:"price",className:"mt-5",placeholder:l,onChange:e=>{/^[a-zA-Z0-9.-]*$/.test(e.target.value)&&(l=e.target.value)}}),t.jsx(le,{onClick:()=>{setTimeout((()=>{i(r.concat([{symbol:n.item.s,price:l,precision:n.item.p,id:n.item.id}]))}),0),m(!1)},className:"mt-5",children:"Add asset"})]})]})})}})}):null]})})]})}const Le={"1hr":3600,"12hr":43200,"24hr":86400,"3d":259200,"7d":604800,"30d":2592e3,"90d":7776e3,"365d":31536e3,"730d":63072e3,"1825d":15768e4};function et(e,r){let t=[];for(let s=0;s<e.length;s+=r)t.push(e.slice(s,s+r));return t}function Tt(e){const{t:r,i18n:s}=mr(pr.get(),{i18n:xr}),n=vr({defaultValues:{account:""}}),[i,a]=E.useState(!1),[l,o]=E.useState(),[c,d]=E.useState(0),[f,u]=E.useState(0),[h,m]=E.useState("1hr"),[p,x]=E.useState(0),[g,j]=E.useState(),[b,N]=E.useState([]),[v,w]=E.useState([]),[S,C]=E.useState(!1),O=E.useCallback(yr(((e,r)=>{/^[0-9]*\.?[0-9]*$/.test(e)&&e>=0&&e<=100&&u(e)}),25),[]),y=E.useSyncExternalStore(lr.subscribe,lr.get,(()=>!0));Ir(y&&y.chain?y.chain:"bitshares",["assets","offers","marketSearch","globalParams"]);const A=E.useSyncExternalStore(er.subscribe,er.get,(()=>!0)),D=E.useSyncExternalStore(rr.subscribe,rr.get,(()=>!0)),_=E.useSyncExternalStore(tr.subscribe,tr.get,(()=>!0)),k=E.useSyncExternalStore(sr.subscribe,sr.get,(()=>!0)),F=E.useSyncExternalStore(ir.subscribe,ir.get,(()=>!0)),P=E.useSyncExternalStore(nr.subscribe,nr.get,(()=>!0)),I=E.useMemo((()=>y&&y.chain?y.chain:"bitshares"),[y]),T=E.useMemo((()=>I&&(A||D)?"bitshares"===I?A:D:[]),[A,D,I]),B=E.useMemo((()=>I&&(F||P)?"bitshares"===I?F:P:[]),[F,P,I]),M=E.useMemo((()=>I&&(_||k)?"bitshares"===I?_:k:[]),[_,k,I]),[L,$]=E.useState(0);E.useEffect((()=>{if(M&&M.length){const e=M.find((e=>0===e[0])),r=ve(e[1].fee,5);$(r)}}),[M]);const[R,H]=E.useState(0),[U,q]=E.useState();E.useEffect((()=>{let e;return y&&y.id&&(e=Tr([y.chain,y.id]).subscribe((({data:e,error:r,loading:t})=>{e&&!r&&!t&&q(e)}))),()=>{e&&e()}}),[y,R]);const[G,z]=E.useState(),V=E.useMemo((()=>l?T.filter((e=>e.symbol===l)):[]),[l,T]);E.useEffect((()=>{V&&V.length&&z(V[0])}),[V]);const[J,X]=E.useState();E.useEffect((()=>{!async function(){if(window.location.search){const e=new URLSearchParams(window.location.search),r=Object.fromEntries(e.entries()),t=r&&r.id?r.id:null;if(!t||!t.length)return void console.log("Invalid credit offer url parameter 1");if(t&&t.length&&!t.includes("1.21."))return void console.log("Invalid credit offer url parameter 2");X(t)}}()}),[]);const[W,Y]=E.useState(),[Z,Q]=E.useState([]),[K,ee]=E.useState();E.useEffect((()=>{let e;return J&&y&&y.chain&&(e=Qr([y.chain,J]).subscribe((({data:e})=>{if(e&&!e.error&&!e.loading){const r=T.find((r=>r.id===e.asset_type));ee(e),Y(e.owner_account),o(r.symbol),d(ve(e.total_balance,r.precision)),u(e.fee_rate?e.fee_rate/1e4:0),m(Object.keys(Le).reduce(((r,t)=>Math.abs(Le[r]-e.max_duration_seconds)<Math.abs(Le[t]-e.max_duration_seconds)?r:t))),x(ve(e.min_deal_amount,r.precision)),j(e.auto_disable_time),w(e.acceptable_collateral.map((e=>{const t=T.find((r=>r.id===e[1].quote.asset_id)),s=1/(ve(e[1].base.amount,r.precision)/ve(e[1].quote.amount,t.precision)),n=hr(1/s,1,r.precision,1,t.precision);return{id:e[0],symbol:t.symbol,price:s,baseAmount:n.base,quoteAmount:n.quote}}))),e.acceptable_borrowers&&Q(et(e.acceptable_borrowers,100))}}))),()=>{e&&e()}}),[J,y,T]);const[re,se]=E.useState(0);E.useEffect((()=>{let e;if(Z&&y&&y.chain&&re<Z.length){const r=Z[re],t=r.flatMap(Object.keys);console.log({_batchIDs:t}),e=Br([y.chain,t]).subscribe((({data:e})=>{e&&!e.error&&!e.loading&&(console.log({usernames:e,index:re}),N(b.concat(e.map(((e,t)=>({name:e.name,id:e.id,amount:ve(r[t].amount,G.precision)}))))),se((e=>e+1)))}))}return()=>{e&&e()}}),[Z,re]);const[ne,ie]=E.useState();E.useEffect((()=>{if(!G||!y||!y.id)return;const e={owner_account:y.id,fee_rate:parseInt(100*f),max_duration_seconds:Le[h],min_deal_amount:$e(p,G.precision),enabled:!0,auto_disable_time:g,acceptable_collateral:v.map((e=>{let r;return e&&(!e.baseAmount||!e.quoteAmount)&&(r=hr(1/e.price,1,G.precision,1,e.precision)),[e.id,{base:{asset_id:G.id,amount:r?r.base:e.baseAmount},quote:{asset_id:e.id,amount:r?r.quote:e.quoteAmount}}]})),acceptable_borrowers:b.map((e=>[e.id,$e(e.amount,G.precision)])),extensions:[]},r=$e(c,G.precision);if(!J)return e.asset_type=G.id,e.balance=r,void ie([e]);if(e.offer_id=J,r!==K.total_balance){const t=Math.abs(r-K.total_balance);e.delta_amount={amount:r>K.total_balance?t:-t,asset_id:G.id}}ie([e])}),[y,f,h,p,G,g,v,b,c,J,K]);const ae=({index:e,style:s})=>{let n=v[e];if(!n)return null;const i=T.find((e=>e.id===n.id));if(!i)return null;let a;return t.jsx("div",{style:{...s},children:t.jsx(De,{className:"ml-2 mr-2 mt-1",children:t.jsx(ye,{className:"pb-3 pt-3",children:t.jsxs("span",{className:"grid grid-cols-12",children:[t.jsxs("span",{className:"col-span-9",children:[t.jsxs(ke,{children:["#",e+1,": ",i.symbol," (",i.id,")"]}),t.jsxs(Te,{children:[r("CreditOfferEditor:price")," ",n.price," ",i.symbol,"/",l??""]})]}),t.jsxs("span",{className:"col-span-3 text-center",children:[t.jsxs(Be,{children:[t.jsx(Pe,{asChild:!0,children:t.jsx(le,{variant:"outline",children:"⚙️"})}),t.jsxs(Ie,{children:[t.jsx(Ae,{children:r("CreditOfferEditor:editingPrice")})," ",t.jsx(te,{name:"price",className:"mt-4",placeholder:n.price,onChange:e=>{/^[a-zA-Z0-9.-]*$/.test(e.target.value)&&(a=v.map((r=>(r.symbol===n.symbol&&(r.price=parseFloat(e.target.value)),r))))}}),t.jsx(le,{variant:"outline",className:"mt-4",onClick:()=>{a&&a.price!==n.price?w(a):console.log("No change in price")},children:r("CreditOfferEditor:setNewPrice")})]})]}),t.jsx(le,{variant:"outline",className:"ml-2",onClick:e=>{e.preventDefault();const r=v.filter((e=>e.symbol!==n.symbol));w(r)},children:"❌"})]})]})})})},`acard-${n.id}`)},oe=({index:e,style:s})=>{let n,i=b[e];return i?t.jsx("div",{style:{...s},children:t.jsx(De,{className:"ml-2 mr-2 mt-1",children:t.jsx(ye,{className:"pb-3 pt-3",children:t.jsxs("span",{className:"grid grid-cols-12",children:[t.jsx("span",{className:"col-span-1",children:t.jsx($r,{size:40,name:i.name,extra:"Borrower",expression:{eye:"normal",mouth:"open"},colors:["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"]})}),t.jsxs("span",{className:"col-span-8 ml-3",children:[t.jsxs(ke,{children:["#",e+1,": ",i.name," (",i.id,")"]}),t.jsxs(Te,{children:[r("CreditOfferEditor:borrowLimit"),": ",i.amount," ",G?G.symbol:""]})]}),t.jsxs("span",{className:"col-span-3 text-center",children:[t.jsxs(Be,{children:[t.jsx(Pe,{asChild:!0,children:t.jsx(le,{variant:"outline",children:"⚙️"})}),t.jsxs(Ie,{children:[t.jsx(Ae,{children:r("CreditOfferEditor:editingMaxAmount")}),t.jsx(te,{name:"price",className:"mt-4",placeholder:i.price,onChange:e=>{/^[a-zA-Z0-9.-]*$/.test(e.target.value)&&(n=b.map((r=>(r.id===i.id&&(r.amount=e.target.value),r))))}}),t.jsx(le,{variant:"outline",className:"mt-4",onClick:()=>{n&&N(n)},children:r("CreditOfferEditor:setNewMaximum")})]})]}),t.jsx(le,{variant:"outline",className:"ml-2",onClick:e=>{e.preventDefault();const r=b.filter((e=>e.id!==i.id));N(r)},children:"❌"})]})]})})})},`acard-${i.id}`):null};return t.jsxs("div",{className:"container mx-auto mt-5 mb-5",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[t.jsxs(De,{children:[t.jsxs(ye,{children:[t.jsx(ke,{children:r(W?"CreditOfferEditor:editingExistingOffer":"CreditOfferEditor:creatingNewOffer")}),t.jsx(Te,{children:r(W?"CreditOfferEditor:editingExistingOfferDescription":"CreditOfferEditor:creatingNewOfferDescription")})]}),t.jsx(ar,{children:t.jsx(_r,{...n,children:t.jsxs("form",{onSubmit:()=>{a(!0),event.preventDefault()},children:[J?t.jsxs("span",{className:"grid grid-cols-12",children:[t.jsx("span",{className:"col-span-6",children:t.jsx(de,{control:n.control,name:"offerOwner",render:({field:e})=>t.jsxs(he,{children:[t.jsx(me,{children:r("CreditOfferEditor:offerOwner")}),t.jsx(pe,{children:t.jsxs("div",{className:"grid grid-cols-12 mt-4 mr-2",children:[t.jsx("div",{className:"col-span-8 mr-2 mb-1 mt-1",children:t.jsx(te,{disabled:!0,placeholder:W??"1.2.x"})}),t.jsx("div",{className:"col-span-4 mt-1 text-center",children:t.jsx(or,{variant:"outline",classnamecontents:"",type:"button",text:r("CreditOfferEditor:viewAccount"),hyperlink:"bitshares"===y.chain?`https://blocksights.info/#/accounts/${W??""}`:`https://blocksights.info/#/accounts/${W??""}?network=testnet`})})]})}),t.jsx(xe,{children:r("CreditOfferEditor:offerOwnerDescription")})]})})}),t.jsx("span",{className:"col-span-6",children:t.jsx(de,{control:n.control,name:"offerID",render:({field:e})=>t.jsxs(he,{children:[t.jsx(me,{children:"Existing Offer ID"}),t.jsx(pe,{children:t.jsxs("div",{className:"grid grid-cols-12 mt-4",children:[t.jsx("div",{className:"col-span-10",children:t.jsx(te,{disabled:!0,placeholder:J,className:"mb-1 mt-1"})}),t.jsx("div",{className:"col-span-2 mt-1 text-center",children:t.jsxs(Je,{children:[t.jsx(Ve,{asChild:!0,children:t.jsx(le,{className:"ml-2",variant:"outline",children:"JSON"})}),t.jsxs(He,{className:"sm:max-w-[550px] bg-white",children:[t.jsxs(Ye,{children:[t.jsx(Qe,{children:r("CreditOfferEditor:existingCreditOfferJSON")}),t.jsx(Ke,{children:r("CreditOfferEditor:currentBlockchainData")})]}),t.jsxs("div",{className:"grid grid-cols-1",children:[t.jsx("div",{className:"col-span-1",children:t.jsx(Xr,{className:"h-72 rounded-md border",children:t.jsx("pre",{children:JSON.stringify(K,null,2)})})}),t.jsxs("div",{className:"col-span-1 mt-3",children:[t.jsx(le,{variant:"outline",onClick:()=>{kr(JSON.stringify(K,null,4))},children:r("DeepLinkDialog:tabsContent.copyOperationJSON")}),t.jsx(or,{variant:"outline",classnamecontents:"ml-3",type:"button",text:r("CreditOfferEditor:viewOnBlockSights"),hyperlink:"bitshares"===y.chain?`https://blocksights.info/#/objects/${J}`:`https://blocksights.info/#/objects/${J}?network=testnet`})]})]})]})]})})]})}),t.jsx(xe,{children:r("CreditOfferEditor:viewingExistingOffer")})]})})})]}):null,t.jsx(de,{control:n.control,name:"targetAsset",render:({field:e})=>t.jsxs(he,{children:[t.jsx(me,{children:r("CreditOfferEditor:assetToLend")}),t.jsx(pe,{children:t.jsxs("div",{className:"grid grid-cols-8 mt-4",children:[t.jsxs("div",{className:"col-span-1 ml-5",children:[l&&G?null:t.jsx(cr,{children:t.jsx(fr,{children:"?"})}),G?t.jsx(cr,{children:t.jsx(fr,{children:t.jsx("div",{className:"text-sm",children:G.bitasset_data_id?"MPA":"UIA"})})}):null]}),t.jsxs("div",{className:"col-span-5",children:[l&&G?null:t.jsx(te,{disabled:!0,placeholder:"Bitshares asset (1.3.x)",className:"mb-1 mt-1"}),G?t.jsx(te,{disabled:!0,placeholder:`${G.symbol} (${G.id})`,className:"mb-1 mt-1"}):null]}),t.jsx("div",{className:"col-span-2 mt-1 ml-3 text-center",children:J?null:t.jsx(qr,{assetSymbol:l??"",assetData:null,storeCallback:o,otherAsset:null,marketSearch:B,type:null})})]})}),t.jsx(xe,{children:r("CreditOfferEditor:lendingAssetDescription")}),t.jsx(Ue,{children:G&&U&&!U.map((e=>e.asset_id)).includes(G.id)?r("Transfer:noAssetInAccount",{username:y.username}):null})]})}),t.jsx(de,{control:n.control,name:"lendingAmount",render:({field:e})=>t.jsxs(he,{children:[t.jsx(me,{children:r("CreditOfferEditor:amountToLend")})," ",t.jsx(pe,{onChange:e=>{const r=e.target.value,t=G?G.precision:2;new RegExp(`^[0-9]*\\.?[0-9]{0,${t}}$`).test(r)&&d(r)},children:t.jsx(te,{value:c,placeholder:c,className:"mb-1 w-3/4"})}),t.jsx(xe,{children:r("CreditOfferEditor:lendingAmountDescription")})]})}),t.jsx(de,{control:n.control,name:"rate",render:({field:e})=>t.jsxs(he,{children:[t.jsx(me,{children:r("CreditOfferEditor:lendingRate")}),t.jsx(pe,{children:t.jsxs("span",{className:"grid grid-cols-12",children:[t.jsxs("span",{className:"col-span-9",children:[t.jsx(te,{value:`${f} %`,placeholder:`${f} %`,disabled:!0,className:"mb-1"}),t.jsx(zr,{className:"mt-3",defaultValue:[f],max:100,min:1,step:.01,onValueChange:e=>{O(e[0])}},`Slider${f}`)]}),t.jsx("span",{className:"col-span-3 ml-3 text-center",children:t.jsxs(Be,{children:[t.jsx(Pe,{asChild:!0,children:t.jsxs("span",{onClick:()=>{event.preventDefault()},className:"inline-block border border-grey rounded pl-4 pb-1 pr-4 text-lg",children:[t.jsx(Ae,{children:r("CreditOfferEditor:editLendingRate")})," "]})}),t.jsxs(Ie,{children:[t.jsx(Ae,{children:r("CreditOfferEditor:newLendingRate")})," ",t.jsx(te,{placeholder:f,className:"mb-2 mt-1",onChange:e=>{const r=e.target.value;r&&r.length&&/^[0-9]*\.?[0-9]{0,2}$/.test(r)&&(r>=.01&&r<=100?u(r):r>100?u(100):r<.01&&u(.01))}})]})]})})]})}),t.jsx(xe,{children:r("CreditOfferEditor:lendingRateDescription")})]})}),t.jsxs("span",{className:"grid grid-cols-12 mt-3 mb-3",children:[t.jsx("span",{className:"col-span-4",children:t.jsx(de,{control:n.control,name:"repaymentPeriod",render:({field:e})=>t.jsxs(he,{children:[t.jsx(me,{children:r("CreditOfferEditor:repaymentPeriod")}),t.jsx(pe,{onValueChange:e=>{m(e)},children:t.jsxs(Rr,{children:[t.jsx(Fr,{className:"mb-3 w-3/4",children:t.jsx(Mr,{placeholder:r("CreditOfferEditor:placeholder1hr")})}),t.jsxs(Lr,{className:"bg-white",children:[t.jsx(Ce,{value:"12hr",children:r("CreditOfferEditor:12hours")}),t.jsx(Ce,{value:"24hr",children:r("CreditOfferEditor:24hours")}),t.jsx(Ce,{value:"3d",children:r("CreditOfferEditor:3days")}),t.jsx(Ce,{value:"7d",children:r("CreditOfferEditor:7days")}),t.jsx(Ce,{value:"30d",children:r("CreditOfferEditor:30days")}),t.jsx(Ce,{value:"90d",children:r("CreditOfferEditor:90days")}),t.jsx(Ce,{value:"365d",children:r("CreditOfferEditor:365days")}),t.jsx(Ce,{value:"730d",children:r("CreditOfferEditor:730days")}),t.jsx(Ce,{value:"1825d",children:r("CreditOfferEditor:1825days")})]})]})}),t.jsx(xe,{children:r("CreditOfferEditor:maximumDuration")}),t.jsx(Ue,{})]})})}),t.jsx("span",{className:"col-span-4",children:t.jsx(de,{control:n.control,name:"minimumAmount",render:({field:e})=>t.jsxs(he,{children:[t.jsx(me,{children:r("CreditOfferEditor:minimumAmount")}),t.jsx(pe,{onChange:e=>{const r=e.target.value;/^[0-9]*\.?[0-9]*$/.test(r)&&r>0&&x(r)},children:t.jsx(te,{value:p,placeholder:p,className:"mb-1 w-3/4"})}),t.jsx(xe,{children:r("CreditOfferEditor:minimumBorrowableAmount")})," "]})})}),t.jsx("span",{className:"col-span-4",children:t.jsx(de,{control:n.control,name:"minimumAmount",render:({field:e})=>t.jsxs(he,{children:[t.jsx(me,{children:r("CreditOfferEditor:expirationDate")}),t.jsx(pe,{children:t.jsxs(Be,{children:[t.jsx(Pe,{asChild:!0,children:t.jsxs(le,{variant:"outline",className:Ar("w-[240px] justify-start text-left font-normal",!g&&"text-muted-foreground"),children:[t.jsx(Dr,{className:"mr-2 h-4 w-4"}),g?Vr(g,"PPP"):t.jsx("span",{children:r("LimitOrderCard:expiry.pickDate")})]})}),t.jsx(Ie,{className:"w-auto p-0",align:"start",children:t.jsx(Hr,{mode:"single",selected:g,onSelect:e=>{new Date(e)<new Date?j(new Date(Date.now()+864e5)):j(e)},initialFocus:!0})})]})}),t.jsx(xe,{children:r("CreditOfferEditor:creditOfferEnds")})]})})})]}),t.jsx(de,{control:n.control,name:"acceptedCollateral",render:({field:e})=>t.jsxs(he,{children:[t.jsx(me,{children:r("CreditOfferEditor:acceptedCollateral")}),t.jsx(pe,{children:t.jsxs("span",{className:"grid grid-cols-12",children:[t.jsx("span",{className:"col-span-9 border border-grey rounded",children:t.jsx(Xe,{height:210,itemCount:v.length,itemSize:80,className:"w-full",children:ae})}),t.jsx("span",{className:"col-span-3 ml-3 text-center",children:t.jsx(Kr,{chosenAssets:v,lendingAsset:G&&G.symbol?G.symbol:"",marketSearch:B,storeCallback:w})})]})}),t.jsx(xe,{children:r("CreditOfferEditor:acceptedCollateralDescription")})]})}),t.jsx(de,{control:n.control,name:"acceptedCollateral",render:({field:e})=>t.jsxs(he,{children:[t.jsx(me,{children:r("CreditOfferEditor:preApprovedUsers")}),t.jsx(pe,{children:t.jsxs("span",{className:"grid grid-cols-12",children:[t.jsx("span",{className:"col-span-9 border border-grey rounded",children:t.jsx(Xe,{height:210,itemCount:b.length,itemSize:100,className:"w-full",children:oe})}),t.jsx("span",{className:"col-span-3 ml-3 text-center",children:t.jsxs(Je,{open:S,onOpenChange:e=>{C(e)},children:[t.jsx(Ve,{asChild:!0,children:t.jsxs(le,{variant:"outline",className:"ml-3 mt-1",children:["➕ ",r("CreditOfferEditor:addUser")]})}),t.jsxs(He,{className:"sm:max-w-[375px] bg-white",children:[t.jsxs(Ye,{children:[t.jsxs(Qe,{children:[y&&y.chain?null:r("Transfer:bitsharesAccountSearch"),y&&"bitshares"===y.chain?r("Transfer:bitsharesAccountSearchBTS"):null,y&&"bitshares"!==y.chain?r("Transfer:bitsharesAccountSearchTEST"):null]}),t.jsx(Ke,{children:r("Transfer:searchingForAccount")})]}),t.jsx(Jr,{chain:y&&y.chain?y.chain:"bitshares",excludedUsers:y&&y.username&&y.username.length?[y]:[],setChosenAccount:e=>{e&&!b.find((r=>r.id===e.id))&&(e.amount=p??1,N(b&&b.length?[b].concat([e]):[e])),C(!1)}})]})]})})]})}),t.jsx(xe,{children:r("CreditOfferEditor:limitBorrowers")})]})}),t.jsx(de,{control:n.control,disabled:!0,name:"fee",render:({field:e})=>t.jsxs(he,{children:[t.jsx(me,{children:r("CreditOfferEditor:networkFee")}),t.jsx(xe,{children:r("CreditOfferEditor:broadcastCost")}),t.jsx(pe,{children:t.jsx(te,{className:"w-3/4",disabled:!0,value:`${L} BTS`,placeholder:1})}),y.id===y.referrer?t.jsx(Ue,{children:r("LimitOrderCard:fee.ltmRebate",{rebate:.8*L})}):null]})}),t.jsx(le,{className:"mt-7 mb-1",variant:"outline",type:"submit",children:r("CreditOfferEditor:submit")})]})})})]}),ne&&i?t.jsx(Ur,{trxJSON:ne??[],operationName:J?"credit_offer_update":"credit_offer_create",username:y.username,usrChain:y.chain,userID:y.id,dismissCallback:a,headerText:J?r("CreditOfferEditor:updatingCreditOffer",{offerID:J}):r("CreditOfferEditor:creatingCreditOffer",{lendingAmount:c,symbol:G.symbol})}):null]}),t.jsx("div",{className:"grid grid-cols-1 gap-3 mt-5",children:t.jsxs(De,{children:[t.jsxs(ye,{className:"pb-0",children:[t.jsx(ke,{children:r("CreditOfferEditor:risksTitle")}),t.jsx(Te,{children:r("CreditOfferEditor:risksDescription")})]}),t.jsx(ar,{className:"text-sm",children:t.jsxs("ul",{className:"ml-2 list-disc [&>li]:mt-2 pl-2",children:[t.jsx("li",{children:r("CreditOfferEditor:risksPoint1")}),t.jsx("li",{children:r("CreditOfferEditor:risksPoint2")}),t.jsx("li",{children:r("CreditOfferEditor:risksPoint3")}),t.jsx("li",{children:r("CreditOfferEditor:risksPoint4")}),t.jsx("li",{children:r("CreditOfferEditor:risksPoint5")}),t.jsx("li",{children:r("CreditOfferEditor:risksPoint6")})]})})]})})]})}export{Tt as default};